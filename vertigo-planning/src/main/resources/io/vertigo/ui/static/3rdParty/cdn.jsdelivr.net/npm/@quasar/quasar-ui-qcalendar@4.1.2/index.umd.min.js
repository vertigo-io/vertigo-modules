/*!
 * @quasar/quasar-ui-qcalendar v4.1.2
 * (c) 2025 Jeff Galbraith <jeff@quasar.dev>
 * Released under the MIT License.
 */
(function(e,a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a(require("vue")):"function"===typeof define&&define.amd?define(["vue"],a):(e="undefined"!==typeof globalThis?globalThis:e||self,e.index=a(e.Vue))})(this,function(Ue){const v=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,p=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?/,y=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,f=[0,31,28,31,30,31,30,31,31,30,31,30,31],_=[0,31,29,31,30,31,30,31,31,30,31,30,31],l={MILLISECONDS_IN:{SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5},SECONDS_IN:{MINUTE:60,HOUR:3600,DAY:86400,WEEK:604800},MINUTES_IN:{MINUTE:1,HOUR:60,DAY:1440,WEEK:10080},HOURS_IN:{DAY:24,WEEK:168},DAYS_IN:{WEEK:7}},w=28,k=31,b=12,D=1,S=1,T=0;function x(e){return"string"===typeof e&&v.test(e)}function Pe(e){if("string"!==typeof e)return null;const a=v.exec(e);if(!a||!a[1]||!a[2])return null;const t=parseInt(a[1],10),n=parseInt(a[2],10),r=parseInt(a[4]||"1",10),d=parseInt(a[6]||"0",10),l=parseInt(a[8]||"0",10);return{date:e,time:d.toString().padStart(2,"0")+":"+l.toString().padStart(2,"0"),year:t,month:n,day:r,hour:d,minute:l,hasDay:!!a[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1,weekday:0,doy:0,workweek:0}}function C(e,a=!1){if(!(e instanceof Date))return null;const t=a?"UTC":"";return m({date:r(e[`get${t}FullYear`](),4)+"-"+r(e[`get${t}Month`]()+1,2)+"-"+r(e[`get${t}Date`](),2),time:r(e[`get${t}Hours`]()||0,2)+":"+r(e[`get${t}Minutes`]()||0,2),year:e[`get${t}FullYear`](),month:e[`get${t}Month`]()+1,day:e[`get${t}Date`](),hour:e[`get${t}Hours`](),minute:e[`get${t}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function r(e,a){let t=String(e);while(t.length<a)t="0"+t;return t}function A(e){return e%4===0&&e%100!==0||e%400===0}function u(e,a){return(A(e)?_:f)[a]}function h(e){const a=new Date(e.year,e.month-1,e.day+1);return m(ue({...e,year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}))}function W(e){const a=new Date(e.year,e.month-1,e.day-1);return m(ue({...e,year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}))}function Ye(){const e=new Date,a=e.getMonth()+1,t=e.getDate(),n=e.getFullYear();return[n,r(a,2),r(t,2)].join("-")}function I(e){return e===Ye()}function P(e,a,t){let n=Z(e);if(a){if(1===n.day||0===n.weekday)while(!a.includes(Number(n.weekday)))n=h(n);n=i(n,a[0],W),n=m(n),t&&(n=z(n,t,n.hasTime))}return n}function Y(e,a,t){let n=Z(e);if(a&&Array.isArray(a)){const r=u(n.year,n.month);if(r===n.day||n.weekday===a[a.length-1])while(!a.includes(Number(n.weekday)))n=W(n);n=i(n,a[a.length-1],h),n=m(n),t&&(n=z(n,t,n.hasTime))}return n}function q(e){let a=Z(e);return a.day=S,a=m(a),a}function F(e){let a=Z(e);return a.day=u(a.year,a.month),a=m(a),a}function $(e){const a=Object.prototype.toString.call(e);switch(a){case"[object Number]":return e;case"[object String]":{const t=y.exec(e);return t?60*parseInt(t[1],10)+parseInt(t[3]||"0",10):!1}case"[object Object]":return"object"!==typeof e||"number"!==typeof e.hour||"number"!==typeof e.minute?!1:"object"===typeof e&&"hour"in e&&"minute"in e&&60*e.hour+e.minute}return!1}function E(e,a){return!(!e||!a)&&e.year===a.year&&e.month===a.month&&e.day===a.day&&e.hour===a.hour&&e.minute===a.minute}function M(e,a){return t(e)===t(a)}function N(e,a){return d(e)===d(a)}function H(e,a){return je(e)===je(a)}function ze(e,a=null){let t=Pe(e);return t?(t=m(t),a&&(t=z(t,a,t.hasTime)),t):null}function Ze(e){return 1e8*(e.year??0)+1e6*(e.month??0)+1e4*(e.day??0)}function o(e){return 100*(e.hour??0)+(e.minute??0)}function Xe(e){return Ze(e)+o(e)}function O(e,a,t=!1){const n=Date.UTC(e.year??0,(e.month??1)-1,e.day??1,e.hour??0,e.minute??0),r=Date.UTC(a.year??0,(a.month??1)-1,a.day??1,a.hour??0,a.minute??0);return!0===t&&r<n?0:r-n}function z(e,a,t=!1){let n=Z(e),r=Ze(a),d=Ze(n),l=r===d;return n.hasTime&&t&&l&&(r=o(a),d=o(n),l=r===d),n.past=d<r,n.current=l,n.future=d>r,n.currentWeekday=n.weekday===a.weekday,n}function L(e,a,t=null){let n=Z(e);return n.hasTime=!0,n.hour=Math.floor(a/l.MINUTES_IN.HOUR),n.minute=a%l.MINUTES_IN.HOUR,n.time=d(n),t&&(n=z(n,t,!0)),n}function V(e){let a=Z(e);return a.weekday=J(a),a}function R(e){let a=Z(e);return a.doy=U(a)||0,a}function B(e){let a=Z(e);return a.workweek=G(a),a}function K(e,a,t,n,r){let d=Z(e);const l=Ze(d);if(void 0!==a){const s=Pe(a);if(s){const c=Ze(s);l<=c&&(d.disabled=!0)}}if(!0!==d.disabled&&void 0!==t){const v=Pe(t);if(v){const p=Ze(v);l>=p&&(d.disabled=!0)}}if(!0!==d.disabled&&Array.isArray(n)&&n.length>0)for(var o in n)if(n[o]===d.weekday){d.disabled=!0;break}if(!0!==d.disabled&&Array.isArray(r)&&r.length>0)for(var u in r)if(Array.isArray(r[u])&&2===r[u].length&&r[u][0]&&r[u][1]){const y=Pe(r[u][0]),f=Pe(r[u][1]);if(y&&f&&le(d,y,f)){d.disabled=!0;break}}else{const h=r[u];if(Array.isArray(h))for(var i of h){const m=ze(i);if(m){const g=Ze(m);if(g===l){d.disabled=!0;break}}}else if(h){const _=ze(h);if(_){const w=Ze(_);w===l&&(d.disabled=!0)}}}return d}function m(e){let a=Z(e);return a.hasTime=!0,a.time=d(a),a.date=t(a),a.weekday=J(a),a.doy=U(a)||0,a.workweek=G(a),a}function U(e){if(0!==e.year)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function G(e){let a=Z(e);if(0===a.year){const r=ze(Ye());r&&(a=r)}const t=new Date(Date.UTC(a.year,a.month-1,a.day)),n=4;t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+6)%7+n),t.setUTCDate(t.getUTCDate()+n-(t.getUTCDay()||7));e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),e=Math.ceil(((t.valueOf()-e.valueOf())/864e5+1)/7);return e}function J(e){let a=e.weekday;if(e.hasDay){const t=Math.floor,n=e.day,r=(e.month+9)%b+1,d=t(e.year/100),l=e.year%100-(e.month<=2?1:0);a=((n+t(2.6*r-.2)-2*d+l+t(l/4)+t(d/4))%7+7)%7}return a??0}function Z(e){return{...e}}function t(e){let a=r(e.year,4)+"-"+r(e.month,2);return e.hasDay&&(a+="-"+r(e.day,2)),a}function d(e){return e.hasTime?r(e.hour,2)+":"+r(e.minute,2):""}function je(e){return t(e)+" "+(e.hasTime?d(e):"00:00")}function ee(e,a=h,t=1,n=[0,1,2,3,4,5,6]){const r=Z(e);return g(r,a,t,n)}function g(e,a=h,t=1,n=[0,1,2,3,4,5,6]){let r=Z(e);n.includes(Number(r.weekday))||0!==r.weekday||a!==h||++t;while(--t>=0)r=a(r),n.length<7&&!n.includes(Number(r.weekday))&&++t;return r}function i(e,a,t=h,n=6){let r=Z(e);while(r.weekday!==a&&--n>=0)r=t(r);return r}function X(e,a,t,n=[0,1,2,3,4,5,6],r=void 0,d=void 0,l=[],o=[],u=42,i=0){const s=Ze(e),c=Ze(a),v=[];let p=Z(e),y=0,f=y===c;if(!(c<s))while((!f||v.length<i)&&v.length<u){if(y=Ze(p),f=f||y>c&&v.length>=i,f)break;if(n.includes(Number(p.weekday))){let e=Z(p);e=m(e),e=z(e,t),e=K(e,r,d,l,o),v.push(e)}p=g(p,h)}return v}function ae(a,t,n,r,d){const l=[];for(let e=0;e<r;++e){const o=(t+e)*n,u=Z(a);l.push(L(u,o,d))}return l}function j(n,r){const e=()=>"";return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?e:(a,e)=>{try{const t=new Intl.DateTimeFormat(n||void 0,r(a,e));return t.format(ne(a))}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> `+je(a)),""}}}function te(e,a=!0){return a?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function ne(e,a=!0){return a?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function a(e){return isFinite(Number(e))}function re(e,a=!1){const t=!0===a?Xe:Ze;return e.reduce((e,a)=>{return Math.max(t(e),t(a))===t(e)?e:a})}function de(e,a=!1){const t=!0===a?Xe:Ze;return e.reduce((e,a)=>{return Math.min(t(e),t(a))===t(e)?e:a})}function le(e,a,t,n=!1){const r=Ze(e)+(!0===n?o(e):0),d=Ze(a)+(!0===n?o(a):0),l=Ze(t)+(!0===n?o(t):0);return r>=d&&r<=l}function oe(e,a,t,n){const r=Ze(e),d=Ze(a),l=Ze(t),o=Ze(n);return r>=l&&r<=o||d>=l&&d<=o||l>=r&&d>=o}function Q(e,a){const t=Z(e);return a.year&&(t.year+=a.year),a.month&&(t.month+=a.month),a.day&&(t.day+=a.day),a.hour&&(t.hour+=a.hour),a.minute&&(t.minute+=a.minute),m(ue(t))}function ue(e){const a=new Date(e.year,e.month-1,e.day,e.hour,e.minute);return{...e,year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),minute:a.getMinutes()}}function ie(e,a){const t=O(e,a,!0);return Math.floor(t/l.MILLISECONDS_IN.DAY)}function se(e,a){let t=Z(e),n=Z(a);return t=i(t,0),n=i(n,6),Math.ceil(ie(t,n)/l.DAYS_IN.WEEK)}const ce={Sun:new Date("2020-01-05T00:00:00.000Z"),Mon:new Date("2020-01-06T00:00:00.000Z"),Tue:new Date("2020-01-07T00:00:00.000Z"),Wed:new Date("2020-01-08T00:00:00.000Z"),Thu:new Date("2020-01-09T00:00:00.000Z"),Fri:new Date("2020-01-10T00:00:00.000Z"),Sat:new Date("2020-01-11T00:00:00.000Z")};function ve(){const e=()=>"",r={long:{timeZone:"UTC",weekday:"long"},short:{timeZone:"UTC",weekday:"short"},narrow:{timeZone:"UTC",weekday:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?e:a;function a(a,e,t){try{const n=new Intl.DateTimeFormat(t||void 0,r[e]||r["long"]);return n.format(ce[a])}catch(e){return e instanceof Error&&console.error(`Intl.DateTimeFormat: ${e.message} -> day of week: `+a),""}}}function pe(a,t){const e=Object.keys(ce),n=ve();return e.map(e=>String(n(e,a,t)))}function ye(){const e=()=>"",d={long:{timeZone:"UTC",month:"long"},short:{timeZone:"UTC",month:"short"},narrow:{timeZone:"UTC",month:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?e:a;function a(a,e,t){try{const n=new Intl.DateTimeFormat(t||void 0,d[e]||d["long"]),r=new Date;return r.setDate(1),r.setMonth(a),n.format(r)}catch(e){return e instanceof Error&&console.error(`Intl.DateTimeFormat: ${e.message} -> month: `+a),""}}}function fe(a,t){const n=ye();return[...Array(12).keys()].map(e=>n(e,a,t))}var he={PARSE_DATETIME:v,PARSE_DATE:p,PARSE_TIME:y,DAYS_IN_MONTH:f,DAYS_IN_MONTH_LEAP:_,DAYS_IN_MONTH_MIN:w,DAYS_IN_MONTH_MAX:k,MONTH_MAX:b,MONTH_MIN:D,DAY_MIN:S,TIME_CONSTANTS:l,FIRST_HOUR:T,today:Ye,getStartOfWeek:P,getEndOfWeek:Y,getStartOfMonth:q,getEndOfMonth:F,parseTime:$,validateTimestamp:x,parsed:Pe,parseTimestamp:ze,parseDate:C,getDayIdentifier:Ze,getTimeIdentifier:o,getDayTimeIdentifier:Xe,diffTimestamp:O,updateRelative:z,updateMinutes:L,updateWeekday:V,updateDayOfYear:R,updateWorkWeek:B,updateDisabled:K,updateFormatted:m,getDayOfYear:U,getWorkWeek:G,getWeekday:J,isLeapYear:A,daysInMonth:u,copyTimestamp:Z,padNumber:r,getDate:t,getTime:d,getDateTime:je,nextDay:h,prevDay:W,relativeDays:g,findWeekday:i,createDayList:X,createIntervalList:ae,createNativeLocaleFormatter:j,makeDate:te,makeDateTime:ne,validateNumber:a,isBetweenDates:le,isOverlappingDates:oe,daysBetween:ie,weeksBetween:se,addToDate:Q,compareTimestamps:E,compareDate:M,compareTime:N,compareDateTime:H,getWeekdayFormatter:ve,getWeekdayNames:pe,getMonthFormatter:ye,getMonthNames:fe},he=Object.freeze({__proto__:null,DAYS_IN_MONTH:f,DAYS_IN_MONTH_LEAP:_,DAYS_IN_MONTH_MAX:k,DAYS_IN_MONTH_MIN:w,DAY_MIN:S,FIRST_HOUR:T,MONTH_MAX:b,MONTH_MIN:D,PARSE_DATE:p,PARSE_DATETIME:v,PARSE_TIME:y,TIME_CONSTANTS:l,addToDate:Q,compareDate:M,compareDateTime:H,compareTime:N,compareTimestamps:E,copyTimestamp:Z,createDayList:X,createIntervalList:ae,createNativeLocaleFormatter:j,daysBetween:ie,daysInMonth:u,default:he,diffTimestamp:O,findWeekday:i,getDate:t,getDateTime:je,getDayIdentifier:Ze,getDayOfYear:U,getDayTimeIdentifier:Xe,getEndOfMonth:F,getEndOfWeek:Y,getMonthFormatter:ye,getMonthNames:fe,getStartOfMonth:q,getStartOfWeek:P,getTime:d,getTimeIdentifier:o,getWeekday:J,getWeekdayFormatter:ve,getWeekdayNames:pe,getWorkWeek:G,isBetweenDates:le,isLeapYear:A,isOverlappingDates:oe,isToday:I,makeDate:te,makeDateTime:ne,maxTimestamp:re,minTimestamp:de,moveRelativeDays:ee,nextDay:h,padNumber:r,parseDate:C,parseTime:$,parseTimestamp:ze,parsed:Pe,prevDay:W,relativeDays:g,today:Ye,updateDayOfYear:R,updateDisabled:K,updateFormatted:m,updateMinutes:L,updateRelative:z,updateWeekday:V,updateWorkWeek:B,validateNumber:a,validateTimestamp:x,weeksBetween:se});function Qe(e,a="px"){if(e)return isNaN(e)?String(e):"auto"===e?e:""+Number(e)+a}function me(a,t){for(let e=0;e<a.length;e++)if(!0===t(a[e],e))return e;return-1}function $e(e,a){return 0===a?e:e.slice(0,a)}var ge={convertToUnit:Qe,indexOf:me,minCharWidth:$e},ge=Object.freeze({__proto__:null,convertToUnit:Qe,default:ge,indexOf:me,minCharWidth:$e});const Ge={mounted(e,a){if("function"===typeof a.value){const t=a.value,n={callback:t,size:{width:0,height:0},observer:new ResizeObserver(e=>{const a=e[0].contentRect;a.width===n.size.width&&a.height===n.size.height||(n.size.width=a.width,n.size.height=a.height,n.debounceTimeout&&clearTimeout(n.debounceTimeout),n.debounceTimeout=setTimeout(()=>{n.callback(n.size),n.debounceTimeout=void 0},100))})};n.observer.observe(e),e.__onResizeObserver=n}},beforeUnmount(e){if(e.__onResizeObserver){const{observer:a,debounceTimeout:t}=e.__onResizeObserver;t&&clearTimeout(t),a.unobserve(e),delete e.__onResizeObserver}}};function aa(a,t,{scrollArea:e,pane:n}){if(!t){const s="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(s),new Error(s)}const r=Ue.reactive({width:0,height:0}),d=Ue.ref(null);function l({width:e,height:a}){r.width=e,r.height=a}const o=Ue.computed(()=>{return!0!==a.noScroll&&e.value&&n.value&&r.height?e.value.offsetWidth-n.value.offsetWidth:0});function u(){}function i(){const e={ref:d,role:"complementary",lang:a.locale,class:`q-calendar ${a.dark?"q-calendar--dark":""} `+(a.bordered?"q-calendar__bordered":"")};return Ue.withDirectives(Ue.h("div",{...e},[t()]),[[Ge,l]])}return{rootRef:d,scrollWidth:o,__initCalendar:u,__renderCalendar:i}}const _e=e=>e.every(e=>["day","date","weekday","interval","time","resource","task"].includes(e)),e={modelValue:{type:String,default:Ye(),validator:e=>""===e||x(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>2===e.length},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:Function,dragOverFunc:Function,dragLeaveFunc:Function,dropFunc:Function,selectedDates:{type:[Array,Set],default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:()=>["date"],validator:_e}};function ta(a,{startDate:e,endDate:t,times:n}){const r=Ue.computed(()=>ze(e.value)),d=Ue.computed(()=>{return"0000-00-00"===t.value?Y(r.value,a.weekdays,n.today):ze(t.value)||r.value}),l=Ue.computed(()=>j(a.locale,()=>({timeZone:"UTC",day:"numeric"}))),o=Ue.computed(()=>j(a.locale,(e,a)=>({timeZone:"UTC",weekday:a?"short":"long"}))),u=Ue.computed(()=>j(a.locale,()=>({timeZone:"UTC",dateStyle:"full"})));function i(e,a){return e&&e.length>0&&e.includes(a.date)}function s(e,a){const t={firstDay:!1,betweenDays:!1,lastDay:!1};if(2===e.length){const n=Ze(a),r=Ze(Pe(e[0])),d=Ze(Pe(e[1]));t.firstDay=r===n,t.lastDay=d===n,t.betweenDays=r<n&&d>n}return t}function c(e,a=!1,t=[],n=[],r=!1){const d=i(t,e),{firstDay:l,lastDay:o,betweenDays:u}=s(n,e);return{"q-past-day":!l&&!u&&!o&&!d&&!a&&!!e.past,"q-future-day":!l&&!u&&!o&&!d&&!a&&!!e.future,"q-outside":a,"q-current-day":!!e.current,"q-selected":d,"q-range-first":l,"q-range":u,"q-range-last":o,"q-range-hover":r&&(l||o||u),"q-disabled-day disabled":!0===e.disabled}}function v(e){return P(e,a.weekdays,n.today)}function p(e){return Y(e,a.weekdays,n.today)}function y(){return{}}return{parsedStart:r,parsedEnd:d,dayFormatter:l,weekdayFormatter:o,ariaDateFormatter:u,arrayHasDate:i,checkDays:s,getRelativeClasses:c,startOfWeek:v,endOfWeek:p,dayStyleDefault:y}}function we(e,a){e instanceof Window?e.scrollTo({top:a,behavior:"instant"}):e.scrollTop=a}function ke(e){return e instanceof Window?e.scrollY:e.scrollTop}function be(d,l,o=500,u=performance.now(),i=ke(d)){o<=0||i===l?we(d,l):requestAnimationFrame(e=>{const a=e-u,t=Math.min(a/o,1),n=e=>e<.5?2*e*e:(4-2*e)*e-1,r=i+(l-i)*n(t);we(d,r),t<1&&be(d,l,o,u,i)})}function De(r,e,d=500){const l=r.scrollLeft,o=e-l;let u=null;function i(e){null===u&&(u=e);const a=e-u,t=Math.min(a/d,1),n=e=>e<.5?2*e*e:(4-2*e)*e-1;r.scrollLeft=l+o*n(t),a<d&&requestAnimationFrame(i)}requestAnimationFrame(i)}const qe={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:a},intervalMinutes:{type:[Number,String],default:60,validator:a},intervalStart:{type:[Number,String],default:0,validator:a},intervalCount:{type:[Number,String],default:24,validator:a},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},Fe={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:String,default:"id"},resourceLabel:{type:String,default:"label"},resourceHeight:{type:[Number,String],default:0,validator:a},resourceMinHeight:{type:[Number,String],default:70,validator:a},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},Se={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:a},dayMinHeight:{type:[Number,String],default:40,validator:a}},Te={modelResources:{type:Array},resourceKey:{type:String,default:"id"},resourceLabel:{type:String,default:"label"},resourceHeight:{type:[Number,String],default:0,validator:a},resourceMinHeight:{type:[Number,String],default:70,validator:a},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:a},noSticky:Boolean};function na(d,{times:a,scrollArea:n,parsedStart:e,parsedEnd:t,maxDays:r,size:l,headerColumnRef:o}){const u=Ue.computed(()=>parseInt(String(d.intervalStart),10)),v=Ue.computed(()=>parseInt(String(d.intervalMinutes),10)),i=Ue.computed(()=>parseInt(String(d.intervalCount),10)),p=Ue.computed(()=>parseFloat(String(d.intervalHeight))),y=Ue.computed(()=>{let e=0;const a=Number(d.columnCount);return d.cellWidth?e=Number(d.cellWidth):l.width>0&&o.value&&(e=o.value.offsetWidth/(a>1?a:r.value)),e}),s=Ue.computed(()=>u.value*v.value),c=Ue.computed(()=>i.value*p.value),f=Ue.computed(()=>i.value*y.value),h=Ue.computed(()=>w(e.value)),m=Ue.computed(()=>k(t.value)),g=Ue.computed(()=>{return X(e.value,t.value,a.today,d.weekdays,d.disabledBefore,d.disabledAfter,d.disabledWeekdays,d.disabledDays,r.value)}),_=Ue.computed(()=>{return g.value.map(e=>ae(e,u.value,v.value,i.value,a.now))});function w(e){return P(e,d.weekdays,a.today)}function k(e){return Y(e,d.weekdays,a.today)}function b(e,a){return e&&e.length>0&&e.includes(je(a))}function D(e,a){const t={firstDay:!1,betweenDays:!1,lastDay:!1};if(e&&2===e.length){const n=Xe(a),r=Xe(Pe(e[0])),d=Xe(Pe(e[1]));t.firstDay=r===n,t.lastDay=d===n,t.betweenDays=r<n&&d>n}return t}function q(e,a=[],t=[]){const n=b(a,e),{firstDay:r,lastDay:d,betweenDays:l}=D(t,e);return{"q-selected":n,"q-range-first":!0===r,"q-range":!0===l,"q-range-last":!0===d,"q-disabled-interval disabled":!0===e.disabled}}function F(e,a,t){return[]}const S=Ue.computed(()=>{const t={timeZone:"UTC",hour12:!d.hour24Format,hour:"2-digit",minute:"2-digit"},n={timeZone:"UTC",hour12:!d.hour24Format,hour:"numeric",minute:"2-digit"},r={timeZone:"UTC",hour12:!d.hour24Format,hour:"numeric"};return j(d.locale,(e,a)=>a?0===e.minute?r:n:t)}),T=Ue.computed(()=>{const e={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return j(d.locale,()=>e)});function x(e){const a=_.value[0][0],t=a.hour===e.hour&&a.minute===e.minute;return!t&&0===e.minute}function C(e){}function A(e){return{}}function W(e,a,t=!1,n){let r=Z(a);if(e.currentTarget){const d=e.currentTarget.getBoundingClientRect(),l=e,o=e,u=l.changedTouches||l.touches,i=(u&&u[0]?u[0]:o).clientY,s=(i-d.top)/p.value,c=Math.floor((t?Math.floor(s):s)*v.value);0!==c&&(r=Q(r,{minute:c})),n&&(r=z(r,n,!0))}return r}function H(e,a,t=!1,n){let r=Z(a);const d=e.currentTarget.getBoundingClientRect(),l=e,o=e,u=l.changedTouches||l.touches,i=(u&&u[0]?u[0]:o).clientY,s=(i-d.top)/p.value,c=Math.floor((t?Math.floor(s):s)*v.value);return 0!==c&&(r=Q(r,{minute:c})),n&&(r=z(r,n,!0)),r}function O(e,a,t=!1,n){let r=Z(a);if(e.currentTarget){const d=e.currentTarget.getBoundingClientRect(),l=e,o=e,u=l.changedTouches||l.touches,i=(u&&u[0]?u[0]:o).clientX,s=(i-d.left)/y.value,c=Math.floor((t?Math.floor(s):s)*v.value);0!==c&&(r=Q(r,{minute:c})),n&&(r=z(r,n,!0))}return r}function L(e,a){const t={timestamp:e,timeStartPos:M,timeDurationHeight:I};return void 0!==a&&(t.columnIndex=a),t}function V(e,a){const t={timestamp:Z(e),timeStartPosX:N,timeDurationWidth:E};return void 0!==a&&(t.index=a),t}function R(e,a=0){const t=M(e);return!(!1===t||!n.value)&&(be(n.value,t,a),!0)}function B(e,a=0){const t=N(e);return!(!1===t||!n.value)&&(De(n.value,t,a),!0)}function I(e){return e/v.value*p.value}function E(e){return e/v.value*y.value}function K(e){return e*v.value/p.value}function U(e){return e*v.value/y.value}function M(e,a=!0){const t=$(e);if(!1===t)return!1;const n=s.value,r=i.value*v.value,d=(t-n)/r;let l=d*c.value;return a&&(l<0&&(l=0),l>c.value)&&(l=c.value),l}function N(e,a=!0){const t=$(e);if(!1===t)return!1;const n=s.value,r=i.value*v.value,d=(t-n)/r;let l=d*f.value;return a&&(l<0&&(l=0),l>f.value)&&(l=f.value),l}return{parsedIntervalStart:u,parsedIntervalMinutes:v,parsedIntervalCount:i,parsedIntervalHeight:p,parsedCellWidth:y,parsedStartMinute:s,bodyHeight:c,bodyWidth:f,parsedWeekStart:h,parsedWeekEnd:m,days:g,intervals:_,intervalFormatter:S,ariaDateTimeFormatter:T,arrayHasDateTime:b,checkIntervals:D,getIntervalClasses:q,getResourceClasses:F,showIntervalLabelDefault:x,showResourceLabelDefault:C,styleDefault:A,getTimestampAtEventInterval:W,getTimestampAtEvent:H,getTimestampAtEventX:O,getScopeForSlot:L,getScopeForSlotX:V,scrollToTime:R,scrollToTimeX:B,timeDurationHeight:I,timeDurationWidth:E,heightToMinutes:K,widthToMinutes:U,timeStartPos:M,timeStartPosX:N}}const xe={columnCount:{type:[Number,String],default:0,validator:a},columnIndexStart:{type:[Number,String],default:0,validator:a}},Ce={maxDays:{type:Number,default:1}},n={now:{type:String,validator:e=>""===e||x(e),default:""}};function ra(e){const a=Ue.reactive({now:ze("0000-00-00 00:00"),today:ze("0000-00-00")}),t=Ue.computed(()=>e.now?ze(e.now):d());function n(){a.now&&a.today&&(a.now.current=a.today.current=!0,a.now.past=a.today.past=!1,a.now.future=a.today.future=!1)}function r(){const e=t.value||d();l(e,a.now),o(e,a.now),l(e,a.today)}function d(){return C(new Date)}function l(e,a){e.date!==a.date&&(a.year=e.year,a.month=e.month,a.day=e.day,a.weekday=e.weekday,a.date=e.date)}function o(e,a){e.time!==a.time&&(a.hour=e.hour,a.minute=e.minute,a.time=e.time)}return Ue.watch(t,()=>r()),{times:a,parsedNow:t,setCurrent:n,updateCurrent:r,getNow:d,updateDay:l,updateTime:o}}function da(r,{parsedView:d,parsedValue:l,times:o}){const e=Ue.computed(()=>{const e=l.value;let a=r.maxDays,t=e,n=e;switch(d.value){case"month":t=q(e),n=F(e),a=u(t.year,t.month);break;case"week":case"week-agenda":case"week-scheduler":t=P(e,r.weekdays,o.today),n=Y(t,r.weekdays,o.today),a=r.weekdays.length;break;case"day":case"scheduler":case"agenda":n=ee(Z(n),h,a>1?a-1:a,r.weekdays),n=m(n);break;case"month-interval":case"month-scheduler":case"month-agenda":t=q(e),n=F(e),n=m(n),a=u(t.year,t.month);break;case"resource":a=1,n=ee(Z(n),h,a,r.weekdays),n=m(n);break}return{start:t,end:n,maxDays:a}});return{renderValues:e}}const Ae=e=>e.replace(/(-\w)/g,e=>e[1].toUpperCase());function We(a,e,t,n){const r={};for(const d in t){const l=t[d],o=Ae("on-"+d);if(!e.value)return console.warn("$listeners has not been set up"),{};if(void 0!==e.value[o]){const u="on"+l.event.charAt(0).toUpperCase()+l.event.slice(1),i=e=>{return(void 0===l.button||"buttons"in e&&e.buttons>0&&e.button===l.button)&&(l.prevent&&e.preventDefault(),l.stop&&e.stopPropagation(),a(d,n(e,d))),l.result};u in r?Array.isArray(r[u])?r[u].push(i):r[u]=[r[u],i]:r[u]=i}}return r}function Ie(e,a,t,n){return We(e,a,Ee(t),n)}function Ee(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function s(e){return Object.keys(Ee(e))}function la(t,n){return{getMouseEventHandlers:(e,a)=>We(t,n,e,a),getDefaultMouseEventHandlers:(e,a)=>Ie(t,n,e,a),getMouseEventName:Ee,getRawMouseEvents:s}}const Me=["moved"];function oa(u,{parsedView:i,parsedValue:s,direction:c,maxDays:v,times:p,emittedValue:y,emit:f}){function e(t=1){if(0===t)y.value=Ye();else{let e=Z(s.value);const n=F(e),r=t>0,d=r?h:W,l=r?n.day:1;let a=r?t:-t;c.value=r?"next":"prev";const o=u.weekdays.length;while(--a>=0)switch(i.value){case"month":e.day=l,e=d(e),e=V(e);while(!u.weekdays.includes(Number(e.weekday)))e=Q(e,{day:r?1:-1});break;case"week":case"week-agenda":case"week-scheduler":e=g(e,d,o,u.weekdays);break;case"day":case"scheduler":case"agenda":e=g(e,d,v.value,u.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":e.day=l,e=d(e);break;case"resource":e=g(e,d,v.value,u.weekdays);break}e=V(e),e=m(e),e=R(e),e=z(e,p.now),y.value=e.date,f("moved",e)}}return{move:e}}const Ne=/^on[A-Z]/;function ua(e=Ue.getCurrentInstance()){return{emitListeners:Ue.computed(()=>{const a={};return e?.vnode?.props&&Object.keys(e.vnode.props).forEach(e=>{Ne.test(e)&&(a[e]=!0)}),a})}}function Je(){const e={"aria-hidden":"true",class:"q-calendar__focus-helper"};return[Ue.h("span",e)]}function He(){function e({focusable:e,focusType:a},t,n){const r=e&&a.includes("date");return Ue.h("button",{...t,tabindex:r?0:-1},[n,r&&Je()])}return{renderButton:e}}const Oe={cellWidth:[Number,String]};function ia(e){const a=Ue.computed(()=>void 0!==e.cellWidth);return{isSticky:a}}const Le=["change"];function sa(n,{days:r,lastStart:d,lastEnd:l}){function e(){const e=r.value;if(0===e.length)return!1;const a=e[0].date,t=e[e.length-1].date;return(!d.value||!l.value||a!==d.value||t!==l.value)&&(d.value=a,l.value=t,n("change",{start:a,end:t,days:e}),!0)}return{checkChange:e}}function ea(){function e(e,a){return(Array.isArray(a)?a:[a]).includes(e.keyCode)}return{isKeyCode:e}}const Ve=ea().isKeyCode,c={useNavigation:Boolean};function ca(a,{rootRef:t,focusRef:n,focusValue:r,datesRef:d,parsedView:l,emittedValue:o,direction:u,times:i}){let e=!1;function s(){e||document&&(e=!0,document.addEventListener("keyup",f),document.addEventListener("keydown",y))}function c(){document&&(document.removeEventListener("keyup",f),document.removeEventListener("keydown",y),e=!1)}function v(e){if(e&&document){const a=document.activeElement;if(a!==document.body&&t.value?.contains(a))return!0}return!1}function p(){let a=0;const t=window.setInterval(()=>{const e=d.value[n.value];e&&(e.focus(),50!==++a)&&document.activeElement!==e||window.clearInterval(t)},250)}function y(e){v(e)&&Ve(e,[33,34,35,36,37,38,39,40])&&(e.stopPropagation(),e.preventDefault())}function f(e){if(v(e)&&Ve(e,[33,34,35,36,37,38,39,40])){const a={33:w,34:k,35:D,36:b,37:g,38:h,39:_,40:m};a[e.keyCode]?.()}}function h(){let e=Z(r.value);if("month"===l.value){if(e=Q(e,{day:-7}),r.value.month!==e.month)return u.value="prev",void(o.value=e.date)}else e=Q(e,{minute:Number(a.intervalMinutes)});u.value="prev",n.value=e.date}function m(){let e=Z(r.value);if("month"===l.value){if(e=Q(e,{day:7}),r.value.month!==e.month)return u.value="next",void(o.value=e.date)}else e=Q(e,{minute:Number(a.intervalMinutes)});u.value="next",n.value=e.date}function g(){let e=Z(r.value);u.value="prev";do{e=Q(e,{day:-1})}while(!a.weekdays.includes(Number(e.weekday)));n.value=e.date}function _(){let e=Z(r.value);u.value="next";do{e=Q(e,{day:1})}while(!a.weekdays.includes(Number(e.weekday)));n.value=e.date}function w(){let e=Z(r.value);e="month"===l.value?Q(e,{month:-1}):Q(e,{day:-7}),u.value="prev",n.value=e.date}function k(){let e=Z(r.value);e="month"===l.value?Q(e,{month:1}):Q(e,{day:7}),u.value="next",n.value=e.date}function b(){let e=Z(r.value);e="month"===l.value?q(e):P(e,a.weekdays||[],i.today);while(!a.weekdays.includes(Number(e.weekday)))e=Q(e,{day:-1});n.value=e.date}function D(){let e=Z(r.value);e="month"===l.value?F(e):Y(e,a.weekdays||[],i.today);while(!a.weekdays.includes(Number(e.weekday)))e=Q(e,{day:-1});n.value=e.date}return Ue.onBeforeUnmount(()=>{c()}),Ue.watch(()=>a.useNavigation,e=>{(!0===e?s:c)()}),!0===a.useNavigation&&s(),{startNavigation:s,endNavigation:c,tryFocus:p}}const Re=He().renderButton;var Be=Ue.defineComponent({name:"QCalendarAgenda",directives:{ResizeObserver:Ge},props:{...e,...Se,...xe,...Ce,...n,...Oe,...c},emits:["update:model-value",...Le,...Me,...s("-date"),...s("-head-day"),...s("-time")],setup(v,{slots:p,emit:o,expose:H}){const e=Ue.ref(null),a=Ue.ref(null),O=Ue.ref(null),y=Ue.ref(v.modelValue||Ye()),t=Ue.ref(Pe(v.modelValue||Ye())),f=Ue.ref({}),n=Ue.ref(),r=Ue.ref(),l=Ue.ref("next"),u=Ue.ref(v.modelValue||Ye()),i=Ue.ref("0000-00-00"),s=Ue.ref(0),c=Ue.ref(v.modelValue),h=Ue.reactive({width:0,height:0}),m=Ue.ref(""),L=Ue.ref(null),V=Ue.ref(null),d=(Ue.watch(()=>v.view,()=>{s.value=0}),Ue.computed(()=>{return"month"===v.view?"month-interval":v.view})),R=Ue.getCurrentInstance();if(null===R)throw new Error("current instance is null");const B=ua(R).emitListeners,g=ia(v).isSticky,{times:_,setCurrent:K,updateCurrent:U}=(Ue.watch(g,()=>{}),ra(v)),{parsedStart:P,parsedEnd:Y,dayFormatter:z,weekdayFormatter:Z,ariaDateFormatter:X,dayStyleDefault:j,getRelativeClasses:w}=(U(),K(),ta(v,{startDate:u,endDate:i,times:_})),k=Ue.computed(()=>{return ze(v.modelValue,_.now)||P.value||_.today}),Q=(t.value=k.value,y.value=k.value.date,da(v,{parsedView:d,parsedValue:k,times:_})).renderValues,{rootRef:b,scrollWidth:$,__renderCalendar:G}=aa(v,Fe,{scrollArea:e,pane:a}),{days:D,parsedCellWidth:J,getScopeForSlot:q}=na(v,{times:_,scrollArea:e,parsedStart:P,parsedEnd:Y,maxDays:s,size:h,headerColumnRef:O}),F=oa(v,{parsedView:d,parsedValue:k,direction:l,maxDays:s,times:_,emittedValue:c,emit:o}).move,S=la(o,B).getDefaultMouseEventHandlers,ee=sa(o,{days:D,lastStart:L,lastEnd:V}).checkChange,ae=ea().isKeyCode,te=ca(v,{rootRef:b,focusRef:y,focusValue:t,datesRef:f,parsedView:d,emittedValue:c,direction:l,times:_}).tryFocus,T=Ue.computed(()=>{return D.value.length+(!0===x.value?v.leftColumnOptions.length:0)+(!0===C.value?v.rightColumnOptions.length:0)+D.value.length===1&&parseInt(String(v.columnCount),10)>0?parseInt(String(v.columnCount),10):0}),x=Ue.computed(()=>{return void 0!==v.leftColumnOptions&&Array.isArray(v.leftColumnOptions)}),C=Ue.computed(()=>{return void 0!==v.rightColumnOptions&&Array.isArray(v.rightColumnOptions)}),A=Ue.computed(()=>{if(b.value){const e=h.width||b.value.getBoundingClientRect().width;if(e&&T.value)return(e-$.value)/T.value+"px"}return 100/T.value+"%"});function ne(){c.value=Ye()}function re(e=1){F(e)}function de(e=1){F(-e)}function le({width:e,height:a}){h.width=e,h.height=a}function W(e){return e.date===c.value}function I(a,t){const e=p["head-column"],n={column:a,index:t,days:D.value},r=!0===g.value?v.cellWidth:A.value,d=!0===v.focusable&&v.focusType.includes("weekday"),l=void 0!==v.columnOptionsId?a[v.columnOptionsId]:"id",o={maxWidth:r,width:r};return Ue.h("div",{key:l,tabindex:!0===d?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===d},style:o,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-column",{scope:n})?m.value=l:m.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-column",{scope:n})?m.value=l:m.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-column",{scope:n})?m.value=l:m.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-column",{scope:n})?m.value=l:m.value="")},...S("-head-column",e=>{return{scope:{column:a,index:t},event:e}})},[!0!==v.noDefaultHeaderText&&oe(a),e&&e(n),Je()])}function oe(e){const a=p["head-column-label"],t={column:e},n=void 0!==v.columnOptionsLabel?e[v.columnOptionsLabel]:e.label,r=Ue.h("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[a&&a({scope:t}),!a&&Ue.h("span",{class:"ellipsis"},n)]);return"stacked"===v.dateHeader?r:Ue.h("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[r])}function ue(){return Ue.h("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":!0===g.value},style:{marginRight:$.value+"px"}},[ie()])}function ie(){return Ue.h("div",{ref:O,class:{"q-calendar-agenda__head--days__column":!0}},[se(),ce()])}function se(){return Ue.h("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},ve())}function ce(){const e=p["head-days-events"];return Ue.nextTick(()=>{if(r.value&&0===v.columnCount&&window)try{const e=window.getComputedStyle(r.value);n.value&&n.value.parentElement&&(n.value.parentElement.style.height=e.height,n.value.style.height=e.height)}catch{}}),Ue.h("div",{class:{"q-calendar-agenda__head--days__event":!0}},[e&&Ue.h("div",{ref:n,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{days:D.value,ref:r}})]),...pe()])}function ve(){const e=parseInt(String(v.columnCount),10),t=parseInt(String(v.columnIndexStart),10);return(1===D.value.length&&e>0?[!0===x.value?v.leftColumnOptions.map((e,a)=>I(e,a)):[],...Array.apply(null,new Array(e)).map((e,a)=>a+t).map(e=>ye(D.value[0],e)),!0===C.value?v.rightColumnOptions.map((e,a)=>I(e,a)):[]]:[!0===x.value?v.leftColumnOptions.map((e,a)=>I(e,a)):[],...D.value.map(e=>ye(e)),!0===C.value?v.rightColumnOptions.map((e,a)=>I(e,a)):[]]).flat()}function pe(){const t=parseInt(String(v.columnCount),10);return 1===D.value.length&&t>0?[...Array.apply(null,new Array(parseInt(String(v.columnCount),10))).map((e,a)=>a+t).map(e=>he(D.value[0],e))]:D.value.map(e=>he(e,0))}function ye(a,e){const t=p["head-day"],n=p["head-date"],r=!0!==v.noActiveDate&&W(a),d=q(a,e??0),l=(d.activeDate=r,d.droppable=m.value===a.date,d.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(Number(a.weekday)),!0===g.value?v.cellWidth:A.value),o=v.weekdayStyle||j,u={width:l,maxWidth:l,...o({scope:d})},i=(!0===g.value&&(u.minWidth=l),"function"===typeof v.weekdayClass?v.weekdayClass({scope:d}):{}),s=!0===v.focusable&&v.focusType.includes("weekday"),c={key:a.date+(void 0!==e?"-"+e:""),ref:e=>{f.value[a.date]=e},tabindex:!0===s?0:-1,class:{"q-calendar-agenda__head--day":!0,...i,...w(a),"q-active-date":r,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===s},style:u,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-day",{scope:d})?m.value=a.date:m.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-day",{scope:d})?m.value=a.date:m.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-day",{scope:d})?m.value=a.date:m.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-day",{scope:d})?m.value=a.date:m.value="")},onFocus:()=>{!0===s&&(y.value=a.date)},...S("-head-day",e=>{return{scope:d,event:e}})};return Ue.h("div",c,[void 0!==t&&t({scope:d}),void 0===t&&fe(a),void 0===t&&n&&n({scope:d}),Je()])}function fe(e){return"stacked"===v.dateHeader?[!0!==v.noDefaultHeaderText&&E(e),!0!==v.noDefaultHeaderBtn&&M(e)].filter(e=>!1!==e):"inline"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderText&&E(e),!0!==v.noDefaultHeaderBtn&&M(e)])):"inverted"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderBtn&&M(e),!0!==v.noDefaultHeaderText&&E(e)])):void 0}function he(e,a){const t=p["head-day-event"],n=!0!==v.noActiveDate&&W(e),r=q(e,a),d=(r.activeDate=n,r.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(Number(e.weekday)),!0===g.value?v.cellWidth:A.value),l={width:d,maxWidth:d};return!0===g.value&&(l.minWidth=d),Ue.h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-agenda__head--day__event":!0,...w(e),"q-active-date":n},style:l},[t&&t({scope:r})])}function E(e){const a=p["head-weekday-label"],t=q(e,0),n=(t.shortWeekdayLabel=v.shortWeekdayLabel,{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,"q-calendar__ellipsis":!0}});return Ue.h("div",n,a&&a({scope:t})||me(e,v.shortWeekdayLabel))}function me(e,a){const t=Z.value(e,a||v.weekdayBreakpoints[0]>0&&J.value<=v.weekdayBreakpoints[0]);return Ue.h("span",{class:"q-calendar__ellipsis"},v.weekdayBreakpoints[1]>0&&J.value<=v.weekdayBreakpoints[1]?$e(t,Number(v.minWeekdayLabel)):t)}function M(e){const a={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+v.dateAlign]:!0}};return Ue.h("div",a,ge(e))}function ge(t){const e=!0!==v.noActiveDate&&W(t),a=z.value(t,!1),n=p["head-day-label"],r=p["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e,disabled:!!v.disabledWeekdays&&v.disabledWeekdays.includes(Number(t.weekday))},l={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===v.dateType,"q-calendar__button--rounded":"rounded"===v.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&ae(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&ae(e,[13,32])&&(c.value=t.date,void 0!==B.value.onClickDate)&&o("click-date",{scope:d})},...S("-date",(e,a)=>{return"click-date"!==a&&"contextmenu-date"!==a||(c.value=t.date,"click-date"===a&&e.preventDefault()),{scope:d,event:e}})};return!0!==v.noAria&&(l.ariaLabel=X.value(t,!1)),r?r({scope:d}):Re(v,l,n?n({scope:d}):a)}function _e(){return Ue.h("div",{class:"q-calendar-agenda__body"},[we()])}function we(){return!0===g.value?Ue.h("div",{ref:e,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[be()]):!0===v.noScroll?ke():Ue.h("div",{ref:e,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[ke()])}function ke(){return Ue.h("div",{ref:a,class:"q-calendar-agenda__pane"},[be()])}function be(){const e=p["day-container"];return Ue.h("div",{class:"q-calendar-agenda__day-container"},[!0===g.value&&!0!==v.noHeader&&ue(),Ue.h("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...De()||[]].flat()),e&&e({scope:{days:D.value}})])}function De(){const e=parseInt(String(v.columnCount),10),t=parseInt(String(v.columnIndexStart),10);return(1===D.value.length&&e>0?[!0===x.value?v.leftColumnOptions.map((e,a)=>N(e,a)):[],...Array.apply(null,new Array(e)).map((e,a)=>a+t).map(e=>qe(D.value[0],0,e)),!0===C.value?v.rightColumnOptions.map((e,a)=>N(e,a)):[]]:[!0===x.value?v.leftColumnOptions.map((e,a)=>N(e,a)):[],...D.value.map((e,a)=>qe(e,a,0)),!0===C.value?v.rightColumnOptions.map((e,a)=>N(e,a)):[]]).flat()}function N(e,a){const t=p.column,n={column:e,days:D.value,index:a},r=!0===g.value?v.cellWidth:A.value,d=!0===v.focusable&&v.focusType.includes("day"),l=void 0!==v.columnOptionsId?e[v.columnOptionsId]:void 0;return Ue.h("div",{key:l,tabindex:!0===d?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===d},style:{maxWidth:r,width:r},onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"column",{scope:n})?m.value=l:m.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"column",{scope:n})?m.value=l:m.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"column",{scope:n})?m.value=l:m.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"column",{scope:n})?m.value=l:m.value="")},...S("-column",e=>{return{scope:n,event:e}})},[t&&t({scope:n})])}function qe(e,a,t){const n=parseInt(String(v.dayHeight),10),r=parseInt(String(v.dayMinHeight),10),d=p.day,l=q(e,t),o=!0===g.value?v.cellWidth:A.value,u={width:o,maxWidth:o};return!0===g.value&&(u.minWidth=o),u.height=n>0?Qe(n):"auto",r>0&&(u.minHeight=Qe(r)),Ue.h("div",{key:e.date+(void 0!==t?":"+t:""),class:{"q-calendar-agenda__day":!0,...w(e)},style:u},[d&&d({scope:l})])}function Fe(){const{start:e,end:a,maxDays:t}=Q.value,n=(u.value===e.date&&i.value===a.date&&s.value===t||(u.value=e.date,i.value=a.date,s.value=t),h.width>0),r=Ue.withDirectives(Ue.h("div",{class:"q-calendar-agenda",key:u.value},[!0===n&&!0!==g.value&&!0!==v.noHeader&&ue(),!0===n&&_e()]),[[Ge,le]]);if(!0!==v.animated)return r;{const d="q-calendar--"+("prev"===l.value?v.transitionPrev:v.transitionNext);return Ue.h(Ue.Transition,{name:d,appear:!0},()=>r)}}return Ue.watch([D],ee,{deep:!0,immediate:!0}),Ue.watch(()=>v.modelValue,(e,a)=>{if(c.value!==e){if(!0===v.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));l.value=t>=n?"next":"prev"}c.value=e}y.value=e}),Ue.watch(c,(e,a)=>{if(c.value!==v.modelValue){if(!0===v.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));l.value=t>=n?"next":"prev"}o("update:model-value",e)}}),Ue.watch(y,e=>{e&&(t.value=ze(e))}),Ue.watch(t,()=>{y.value&&f.value[y.value]?f.value[y.value].focus():te()}),Ue.watch(()=>v.maxDays,e=>{s.value=e}),Ue.onBeforeUpdate(()=>{f.value={}}),Ue.onMounted(()=>{}),H({prev:de,next:re,move:F,moveToToday:ne,updateCurrent:U}),()=>G()}});const va=He().renderButton;var Ke=Ue.defineComponent({name:"QCalendarDay",directives:{ResizeObserver:Ge},props:{...e,...qe,...xe,...Ce,...n,...Oe,...c},emits:["update:model-value",...Le,...Me,...s("-date"),...s("-interval"),...s("-head-intervals"),...s("-head-day"),...s("-time")],setup(p,{slots:y,emit:v,expose:H}){const e=Ue.ref(null),O=Ue.ref(null),L=Ue.ref(null),f=Ue.ref(p.modelValue||Ye()),a=Ue.ref(Pe(p.modelValue||Ye())),h=Ue.ref({}),t=Ue.ref(),n=Ue.ref(),l=Ue.ref("next"),o=Ue.ref(p.modelValue||Ye()),u=Ue.ref("0000-00-00"),i=Ue.ref(0),m=Ue.ref(p.modelValue||Ye()),s=Ue.reactive({width:0,height:0}),g=Ue.ref(""),_=Ue.ref(0),V=Ue.ref(null),R=Ue.ref(null),r=(Ue.watch(()=>p.view,()=>{i.value=0}),Ue.computed(()=>{return"month"===p.view?"month-interval":p.view})),B=Ue.getCurrentInstance();if(null===B)throw new Error("current instance is null");const w=ua(B).emitListeners,k=ia(p).isSticky,{times:b,setCurrent:K,updateCurrent:U}=ra(p),{parsedStart:d,parsedEnd:P,dayFormatter:Y,weekdayFormatter:z,ariaDateFormatter:Z,dayStyleDefault:X,getRelativeClasses:D}=(U(),K(),ta(p,{startDate:o,endDate:u,times:b})),c=Ue.computed(()=>{return ze(p.modelValue,b.now)||d.value||b.today}),j=(a.value=c.value,f.value=c.value.date,da(p,{parsedView:r,parsedValue:c,times:b})).renderValues,{rootRef:q,scrollWidth:Q,__renderCalendar:$}=aa(p,Ke,{scrollArea:e,pane:O}),{days:F,intervals:G,intervalFormatter:J,ariaDateTimeFormatter:ee,parsedCellWidth:S,getIntervalClasses:ae,showIntervalLabelDefault:te,styleDefault:ne,getTimestampAtEventInterval:re,getTimestampAtEvent:de,getScopeForSlot:T,scrollToTime:le,heightToMinutes:oe,timeDurationHeight:ue,timeStartPos:ie}=na(p,{times:b,scrollArea:e,parsedStart:d,parsedEnd:P,maxDays:i,size:s,headerColumnRef:L}),x=oa(p,{parsedView:r,parsedValue:c,direction:l,maxDays:i,times:b,emittedValue:m,emit:v}).move,C=la(v,w).getDefaultMouseEventHandlers,se=sa(v,{days:F,lastStart:V,lastEnd:R}).checkChange,A=ea().isKeyCode,ce=ca(p,{rootRef:q,focusRef:f,focusValue:a,datesRef:h,parsedView:r,emittedValue:m,direction:l,times:b}).tryFocus,W=Ue.computed(()=>{const e=parseInt(String(p.columnCount),10);return"day"===r.value&&e>1?e:"day"===r.value&&p.maxDays&&p.maxDays>1?p.maxDays:F.value.length}),ve=Ue.computed(()=>{return q.value?parseInt(window.getComputedStyle(q.value).getPropertyValue("--calendar-intervals-width"),10):0}),I=Ue.computed(()=>{if(q.value){const e=s.width||q.value.getBoundingClientRect().width;if(e&&ve.value&&W.value)return(e-Q.value-ve.value)/W.value+"px"}return 100/W.value+"%"});function pe(){m.value=Ye()}function ye(e=1){x(e)}function fe(e=1){x(-e)}function he({width:e,height:a}){s.width=e,s.height=a}function E(e){return e.date===m.value}function me(){return Ue.h("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":!0===k.value},style:{marginRight:Q.value+"px"}},[ge(),_e()])}function ge(){const e=y["head-intervals"],a={timestamps:F.value,days:F.value,date:p.modelValue};return Ue.h("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":!0===k.value},...C("-head-intervals",e=>{return{scope:a,event:e}})},[e&&e({scope:a})])}function _e(){return Ue.h("div",{ref:L,class:{"q-calendar-day__head--days__column":!0}},[we(),ke()])}function we(){return Ue.h("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...be()])}function ke(){const e=y["head-days-events"],a=parseInt(String(p.columnCount),10);return Ue.nextTick(()=>{if(n.value&&0===a&&window)try{const e=window.getComputedStyle(n.value);t.value&&t.value.parentElement&&(t.value.parentElement.style.height=e.height,t.value.style.height=e.height)}catch{}}),Ue.h("div",{class:{"q-calendar-day__head--days__event":!0}},[e&&Ue.h("div",{ref:t,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{days:F.value,ref:n}})]),...De()])}function be(){const e=parseInt(String(p.columnCount),10),t=parseInt(String(p.columnIndexStart),10);return 1===F.value.length&&e>0?Array.apply(null,new Array(e)).map((e,a)=>a+t).map(e=>qe(F.value[0],e)):F.value.map(e=>qe(e,0))}function De(){const e=parseInt(String(p.columnCount),10),t=parseInt(String(p.columnIndexStart),10);return 1===F.value.length&&e>0?Array.apply(null,new Array(e)).map((e,a)=>a+t).map(e=>Se(F.value[0],e)).filter(e=>void 0!==e):F.value.map(e=>Se(e,0)).filter(e=>void 0!==e)}function qe(a,e){const t=y["head-day"],n=y["head-date"],r=!0!==p.noActiveDate&&E(a),d=T(a,e),l=(d.activeDate=r,d.droppable=g.value===a.date,d.disabled=!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(a.weekday)),!0===k.value?p.cellWidth:I.value),o=p.weekdayStyle||X,u={width:l,maxWidth:l,minWidth:l,...o({scope:d})},i=(!0===k.value&&(u.minWidth=l),"function"===typeof p.weekdayClass?p.weekdayClass({scope:d}):{}),s=!0===p.focusable&&p.focusType.includes("weekday"),c=a.date+(void 0!==e?"-"+e:""),v={key:c,ref:e=>{h.value[c]=e},tabindex:!0===s?0:-1,class:{"q-calendar-day__head--day":!0,...i,...D(a),"q-active-date":r,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===s},style:u,onFocus:()=>{!0===s&&(f.value=c)},onKeydown:e=>{!0!==a.disabled&&A(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&A(e,[13,32])&&(m.value=a.date)},...C("-head-day",e=>{return{scope:d,event:e}}),onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"head-day",{scope:d})?g.value=a.date:g.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"head-day",{scope:d})?g.value=a.date:g.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"head-day",{scope:d})?g.value=a.date:g.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"head-day",{scope:d})?g.value=a.date:g.value="")}};return Ue.h("div",v,[void 0!==t&&t({scope:d}),void 0===t&&Ce(a,e),void 0===t&&Fe(a),void 0===t&&n&&n({scope:d}),void 0===t&&Ae(a,e),Je()])}function Fe(e){return"stacked"===p.dateHeader?[!0!==p.noDefaultHeaderText?M(e):[],!0!==p.noDefaultHeaderBtn?N(e):[]].filter(e=>void 0!==e):"inline"===p.dateHeader?("left"===p.weekdayAlign&&"right"===p.dateAlign||"right"===p.weekdayAlign&&p.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==p.noDefaultHeaderText&&M(e),!0!==p.noDefaultHeaderBtn&&N(e)])):"inverted"===p.dateHeader?("left"===p.weekdayAlign&&"right"===p.dateAlign||"right"===p.weekdayAlign&&p.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==p.noDefaultHeaderBtn&&N(e),!0!==p.noDefaultHeaderText&&M(e)])):void 0}function Se(e,a){const t=y["head-day-event"],n=!0!==p.noActiveDate&&E(e),r=T(e,a),d=(r.activeDate=n,r.disabled=!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(e.weekday)),!0===k.value?Qe(S.value):I.value),l={width:d,maxWidth:d,minWidth:d};return!0===k.value&&(l.minWidth=d),Ue.h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-day__head--day__event":!0,...D(e),"q-active-date":n},style:l},[t&&t({scope:r})])}function M(e){const a=y["head-weekday-label"],t=!0===p.shortWeekdayLabel,n=T(e,0),r=(n.shortWeekdayLabel=p.shortWeekdayLabel,n.disabled=!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(e.weekday)),{class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+p.weekdayAlign]:!0,"q-calendar__ellipsis":!0}});return Ue.h("div",r,a&&a({scope:n})||Te(e,t))}function Te(e,a){const t=z.value(e,a||p.weekdayBreakpoints[0]>0&&S.value<=p.weekdayBreakpoints[0]);return Ue.h("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},p.weekdayBreakpoints[1]>0&&S.value<=p.weekdayBreakpoints[1]?$e(t,Number(p.minWeekdayLabel)):t)}function N(e){const a={class:{"q-calendar-day__head--date":!0,["q-calendar__"+p.dateAlign]:!0}};return Ue.h("div",a,xe(e))}function xe(t){const e=!0!==p.noActiveDate&&E(t),a=Y.value(t,!1),n=y["head-day-label"],r=y["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(t.weekday))},l={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===p.dateType,"q-calendar__button--rounded":"rounded"===p.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&A(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&A(e,[13,32])&&(m.value=t.date,void 0!==w.value.onClickDate)&&v("click-date",{scope:d})},...C("-date",(e,a)=>{return"click-date"!==a&&"contextmenu-date"!==a||(m.value=t.date,"click-date"===a&&e.preventDefault()),{scope:d,event:e}})};return!0!==p.noAria&&(l.ariaLabel=Z.value(t,!1)),r?r({scope:d}):va(p,l,n?n({scope:d}):a)}function Ce(e,a){const t=y["column-header-before"];if(t){const n={timestamp:e,columnIndex:a};return Ue.h("div",{class:"q-calendar-day__column-header--before"},[t({scope:n})])}}function Ae(e,a){const t=y["column-header-after"];if(t){const n={timestamp:e,columnIndex:a};return Ue.h("div",{class:"q-calendar-day__column-header--after"},[t({scope:n})])}}function We(){return Ue.h("div",{class:"q-calendar-day__body"},[Ie()])}function Ie(){return!0===k.value?Ue.h("div",{ref:e,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[!0!==k.value&&Ve(),Me()]):!0===p.noScroll?Ee():Ue.h("div",{ref:e,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[Ee()])}function Ee(){return Ue.h("div",{ref:O,class:"q-calendar-day__pane"},[Ve(),Me()])}function Me(){const e=y["day-container"];return Ue.h("div",{class:"q-calendar-day__day-container"},[!0===k.value&&!0!==p.noHeader&&me(),Ue.h("div",{style:{display:"flex",flexDirection:"row"}},[!0===k.value&&Ve(),...Ne()]),e&&e({scope:{days:F.value}})])}function Ne(){const e=parseInt(String(p.columnCount),10),t=parseInt(String(p.columnIndexStart),10);return 1===F.value.length&&e>0?Array.apply(null,new Array(e)).map((e,a)=>a+t).map(e=>He(F.value[0],0,e)):F.value.map((e,a)=>He(e,a,0))}function He(e,a,t){const n=y["day-body"],r=T(e,t),d=!0===k.value?p.cellWidth:I.value,l={width:d,maxWidth:d,minWidth:d};return!0===k.value&&(l.minWidth=d),Ue.h("div",{key:e.date+(void 0!==t?":"+t:""),class:{"q-calendar-day__day":!0,...D(e)},style:l},[...Oe(a,t),n&&n({scope:r})])}function Oe(e,a){return G.value[e].map(e=>Le(e,a))}function Le(t,n){const e=Qe(p.intervalHeight),a=p.intervalStyle||ne,r=y["day-interval"],d=T(t,n),l=(d.droppable=_.value===Xe(t),"function"===typeof p.intervalClass?p.intervalClass({scope:d}):{}),o=!0===p.focusable&&p.focusType.includes("interval"),u=je(t),i={height:e,...a({scope:d})},s={key:u,tabindex:!0===o?0:-1,class:{"q-calendar-day__day-interval":0===t.minute,"q-calendar-day__day-interval--section":0!==t.minute,...l,...ae(t,Array.from(p.selectedDates),p.selectedStartEndDates),"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===o},style:i,onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"interval",{scope:d})?_.value=Xe(t):_.value=0)},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"interval",{scope:d})?_.value=Xe(t):_.value=0)},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"interval",{scope:d})?_.value=Xe(t):_.value=0)},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"interval",{scope:d})?_.value=Xe(t):_.value=0)},onKeydown:e=>{A(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{if(A(e,[13,32])){const a=T(t,n);m.value=a.timestamp.date,void 0!==w.value.onClickTime&&v("click-time",{scope:a,event:e})}},...C("-time",e=>{const a=T(re(e,t,p.timeClicksClamped,b.now),n);return{scope:a,event:e}})},c=(!0!==p.noAria&&(s.ariaLabel=ee.value(t,!1)),r?r({scope:d}):void 0);return Ue.h("div",s,[c,Je()])}function Ve(){const e={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":!0===k.value},...C("-interval",e=>{const a=de(e,d.value,p.timeClicksClamped,b.now);return{scope:{timestamp:a},event:e}})};return Ue.h("div",e,Re())}function Re(){return G.value[0].map(e=>Be(e))}function Be(e){const a=y["interval-label"],t=Qe(p.intervalHeight),n=p.shortIntervalLabel??!1,r=p.showIntervalLabel||te,d=r(e),l=d?J.value(e,n):void 0;return Ue.h("div",{key:e.time,class:{"q-calendar-day__interval":0===e.minute,"q-calendar-day__interval--section":0!==e.minute},style:{height:t}},[Ue.h("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[a?a({scope:{timestamp:e,label:l}}):l])])}function Ke(){const{start:e,end:a,maxDays:t}=j.value,n=(o.value===e.date&&u.value===a.date&&i.value===t||(o.value=e.date,u.value=a.date,i.value=t),s.width>0),r=Ue.withDirectives(Ue.h("div",{key:o.value,class:"q-calendar-day"},[!0===n&&!0!==k.value&&!0!==p.noHeader&&me(),n&&We()]),[[Ge,he]]);if(!0!==p.animated)return r;{const d="q-calendar--"+("prev"===l.value?p.transitionPrev:p.transitionNext);return Ue.h(Ue.Transition,{name:d,appear:!0},()=>r)}}return Ue.watch([F],se,{deep:!0,immediate:!0}),Ue.watch(()=>p.modelValue,(e,a)=>{if(m.value!==p.modelValue){if(!0===p.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));l.value=t>=n?"next":"prev"}m.value=e}f.value=e}),Ue.watch(m,(e,a)=>{if(m.value!==p.modelValue){if(!0===p.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));l.value=t>=n?"next":"prev"}v("update:model-value",e)}}),Ue.watch(f,e=>{e&&(a.value=ze(e))}),Ue.watch(a,()=>{f.value&&h.value[f.value]?h.value[f.value].focus():ce()}),Ue.watch(()=>p.maxDays,e=>{i.value=e}),Ue.onBeforeUpdate(()=>{h.value={},t.value=void 0,n.value=void 0}),Ue.onMounted(()=>{}),H({prev:fe,next:ye,move:x,moveToToday:pe,updateCurrent:U,timeStartPos:ie,timeDurationHeight:ue,heightToMinutes:oe,scrollToTime:le}),()=>$()}});const pa={dayHeight:{type:[Number,String],default:0,validator:e=>a(e)},dayMinHeight:{type:[Number,String],default:0,validator:e=>a(e)},dayStyle:Function,dayClass:Function,weekdayStyle:Function,weekdayClass:Function,dayPadding:String,minWeeks:{type:[Number,String],default:1,validator:e=>a(e)},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||a(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function ya(n,a,{times:r,parsedStart:t,parsedEnd:d,size:l,headerColumnRef:o}){const e=Ue.computed(()=>parseInt(n.minWeeks,10)),u=Ue.computed(()=>e.value*n.weekdays.length),i=Ue.computed(()=>_(k(t.value))),s=Ue.computed(()=>w(b(d.value))),c=Ue.computed(()=>{let e=0;return n.cellWidth?e=Number(n.cellWidth):l.width>0&&o.value&&(e=o.value.offsetWidth/n.weekdays.length),e}),v=Ue.computed(()=>X(i.value,s.value,r.today,n.weekdays,n.disabledBefore,n.disabledAfter,n.disabledWeekdays,n.disabledDays,Number.MAX_SAFE_INTEGER,u.value)),p=Ue.computed(()=>{const e=r.today,a=_(e),t=w(e);return X(a,t,e,n.weekdays,n.disabledBefore,n.disabledAfter,n.disabledWeekdays,n.disabledDays,n.weekdays.length,n.weekdays.length)}),y=Ue.computed(()=>j(n.locale,(e,a)=>({timeZone:"UTC",month:a?"short":"long"}))),f=Ue.computed(()=>{switch(n.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(n.breakpoint,10)}}),h=Ue.computed(()=>{switch(n.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return n.monthLabelSize}});let m=!0;const g=Ue.computed(()=>{const e=!0===n.miniMode||"auto"===n.miniMode&&void 0!==n.breakpoint&&l.width<f.value;return m&&(m=!1,a("mini-mode",e)),e});function _(e){return P(e,n.weekdays,r.today)}function w(e){return Y(e,n.weekdays,r.today)}function k(e){return q(e)}function b(e){return F(e)}function D(e){const a=Ze(e);return a<Ze(t.value)||a>Ze(d.value)}return Ue.watch(g,e=>{a("mini-mode",e)}),{parsedCellWidth:c,parsedMinWeeks:e,parsedMinDays:u,parsedMonthStart:i,parsedMonthEnd:s,parsedBreakpoint:f,parsedMonthLabelSize:h,days:v,todayWeek:p,isMiniMode:g,monthFormatter:y,isOutside:D}}const fa=He().renderButton;var ha=Ue.defineComponent({name:"QCalendarMonth",directives:{ResizeObserver:Ge},props:{...e,...pa,...n,...Oe,...c},emits:["update:model-value",...Le,...Me,"mini-mode",...s("-date"),...s("-day"),...s("-head-workweek"),...s("-head-day"),...s("-workweek")],setup(p,{slots:y,emit:c,expose:H}){const O=Ue.ref(null),L=Ue.ref(null),e=Ue.ref(null),f=Ue.ref(p.modelValue||Ye()),a=Ue.ref(Pe(p.modelValue||Ye())),v=Ue.ref({}),i=Ue.ref([]),s=Ue.ref([]),d=Ue.ref("next"),l=Ue.ref(p.modelValue||Ye()),o=Ue.ref("0000-00-00"),V=Ue.ref(0),h=Ue.ref(p.modelValue),u=Ue.reactive({width:0,height:0}),m=Ue.ref(),g=Ue.ref(""),R=Ue.ref(null),B=Ue.ref(null),t=Ue.computed(()=>{return"month"}),n=Ue.getCurrentInstance();if(null===n)throw new Error("current instance is null");const _=ua(n).emitListeners,K=ia(p).isSticky,{times:r,setCurrent:U,updateCurrent:w}=(Ue.watch(K,()=>{}),ra(p)),{parsedStart:k,parsedEnd:b,dayFormatter:P,weekdayFormatter:Y,ariaDateFormatter:z,dayStyleDefault:D,getRelativeClasses:Z}=(w(),U(),ta(p,{startDate:l,endDate:o,times:r})),q=Ue.computed(()=>{return ze(p.modelValue,r.now)||k.value||r.today}),X=(a.value=q.value,f.value=q.value.date,Ue.computed(()=>{const e={};return void 0!==p.dayPadding&&(e.padding=p.dayPadding),e.minWidth=I.value,e.maxWidth=I.value,e.width=I.value,e})),j=da(p,{parsedView:t,times:r,parsedValue:q}).renderValues,{rootRef:F,__renderCalendar:Q}=aa(p,Te,{scrollArea:O,pane:L}),{days:S,todayWeek:$,isMiniMode:T,parsedCellWidth:G,parsedMonthLabelSize:J,isOutside:ee,monthFormatter:ae}=ya(p,c,{times:r,parsedStart:k,parsedEnd:b,size:u,headerColumnRef:e}),x=oa(p,{parsedView:t,parsedValue:q,direction:d,maxDays:V,times:r,emittedValue:h,emit:c}).move,C=la(c,_).getDefaultMouseEventHandlers,te=sa(c,{days:S,lastStart:R,lastEnd:B}).checkChange,A=ea().isKeyCode,ne=ca(p,{rootRef:F,focusRef:f,focusValue:a,datesRef:v,parsedView:t,emittedValue:h,direction:d,times:r}).tryFocus,re=Ue.computed(()=>{return F.value&&!0===p.showWorkWeeks?parseInt(window.getComputedStyle(F.value).getPropertyValue(!0===T.value?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0}),W=Ue.computed(()=>{return p.weekdays.length}),I=Ue.computed(()=>{if(F.value){const e=u.width||F.value.getBoundingClientRect().width;if(e&&W.value)return(e-re.value)/W.value+"px"}return 100/W.value+"%"}),E=Ue.computed(()=>{return!0===p.focusable&&p.focusType.includes("day")&&!0!==T.value}),M=Ue.computed(()=>{return!0===p.focusable&&p.focusType.includes("date")&&!0!==E.value});function de(){h.value=Ye()}function le(e=1){x(e)}function oe(e=1){x(-e)}function ue({width:e,height:a}){u.width=e,u.height=a}function N(e){return e.date===h.value}function ie(a){for(let e=0;e<a.length;++e)if(!0===a[e].current)return{timestamp:a[e]};return{timestamp:!1}}function se(){if(!0!==T.value&&0===p.dayHeight){const a=y.week;if(void 0!==a&&window)for(var e in i.value){const t=i.value[e];if(void 0!==t){const n=s.value[e];if(void 0!==n){const r=window.getComputedStyle(t),d=parseFloat(r.marginTop)+parseFloat(r.marginBottom);n.clientHeight+d>n.clientHeight&&(n.style.height=t.clientHeight+d+"px")}}}}}function ce(){return Ue.h("div",{class:"q-calendar-month__body"},[..._e()])}function ve(){return Ue.h("div",{role:"presentation",class:"q-calendar-month__head"},[!0===p.showWorkWeeks&&ye(),Ue.h("div",{class:"q-calendar-month__head--wrapper"},[pe()])])}function pe(){return Ue.h("div",{ref:e,class:{"q-calendar-month__head--weekdays":!0}},[...fe()])}function ye(){const e=y["head-workweek"],a={start:k.value,end:b.value,miniMode:T.value};return Ue.h("div",{class:"q-calendar-month__head--workweek",...C("-head-workweek",e=>{return{scope:a,event:e}})},e?e({scope:a}):"#")}function fe(){return $.value.map((e,a)=>he(e,a))}function he(a,e){const t=y["head-day"],n=S.value.filter(e=>e.weekday===a.weekday),r=n[0].weekday,d=!0!==p.noActiveDate&&N(a),l={activeDate:d,weekday:r,timestamp:a,days:n,index:e,miniMode:T.value,droppable:m.value===Number(a.weekday),disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(a.weekday))},o="function"===typeof p.weekdayClass?p.weekdayClass({scope:l}):{},u=!0===p.focusable&&p.focusType.includes("weekday"),i=I.value,s=p.weekdayStyle||D,c={width:i,maxWidth:i,minWidth:i,...s({scope:l})},v={key:a.date+(void 0!==e?"-"+e:""),tabindex:!0===u?0:-1,class:{"q-calendar-month__head--weekday":!0,...o,"q-disabled-day disabled":!0===l.disabled,["q-calendar__"+p.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":!0===u},style:c,onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"head-day",{scope:l})?m.value=Number(a.weekday):m.value=-1)},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"head-day",{scope:l})?m.value=Number(a.weekday):m.value=-1)},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"head-day",{scope:l})?m.value=Number(a.weekday):m.value=-1)},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"head-day",{scope:l})?m.value=Number(a.weekday):m.value=-1)},onFocus:()=>{!0===u&&(f.value=a.date)},...C("-head-day",e=>{return{scope:l,event:e}})};return!0!==p.noAria&&(v.ariaLabel=Y.value(a,!1)),Ue.h("div",v,[void 0===t&&ge(a,p.shortWeekdayLabel||T.value),void 0!==t&&t({scope:l}),me(a,e),!0===u&&Je()])}function me(a,e){const t=y["head-day-event"],n=!0!==p.noActiveDate&&N(a),r=S.value.filter(e=>e.weekday===a.weekday),d=r[0].weekday,l={weekday:d,timestamp:a,days:r,index:e,miniMode:T.value,activeDate:n,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(a.weekday))},o=I.value,u=p.weekdayStyle||D,i={width:o,maxWidth:o,minWidth:o,...u({scope:l})};return Ue.h("div",{key:"event-"+a.date+(void 0!==e?"-"+e:""),class:{"q-calendar-month__head--event":!0},style:i},[void 0!==t&&t({scope:l})])}function ge(e,a){const t=Y.value(e,a||p.weekdayBreakpoints[0]>0&&G.value<=p.weekdayBreakpoints[0]);return Ue.h("span",{class:"q-calendar__ellipsis"},!0===T.value&&!0===p.shortWeekdayLabel||p.weekdayBreakpoints[1]>0&&G.value<=p.weekdayBreakpoints[1]?$e(t,Number(p.minWeekdayLabel)):t)}function _e(){const a=p.weekdays.length,t=[];for(let e=0;e<S.value.length;e+=a)t.push(we(S.value.slice(e,e+a),e/a));return t}function we(e,a){const t=y.week,n=p.weekdays,r={week:e,weekdays:n,miniMode:T.value},d={},l=parseInt(String(p.dayHeight),10),o=parseInt(String(p.dayMinHeight),10),u=(d.height=l>0&&!0!==T.value?Qe(l):"auto",o>0&&!0!==T.value&&(d.minHeight=Qe(o)),0===l&&0===o);return Ue.h("div",{key:e[0].date,ref:e=>{s.value[a]=e},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":u},style:d},[!0===p.showWorkWeeks?ke(e):void 0,Ue.h("div",{class:"q-calendar-month__week"},[Ue.h("div",{class:"q-calendar-month__week--days"},e.map(e=>be(e))),!0!==T.value&&void 0!==t?Ue.h("div",{ref:e=>{i.value[a]=e},class:"q-calendar-month__week--events"},t({scope:r})):void 0])])}function ke(e){const a=y.workweek,t=e.length>2?e[2]:e[0],n=ie(e).timestamp,r=Number(t.workweek).toLocaleString(p.locale),d={workweekLabel:r,week:e,miniMode:T.value};return Ue.h("div",{key:t.workweek,class:{"q-calendar-month__workweek":!0,...Z(!1!==n?n:t,!1)},...C("-workweek",e=>{return{scope:d,event:e}})},a?a({scope:d}):r)}function be(a){const e=y.day,t=p.dayStyle||D,n=ee(a),r=!0!==p.noActiveDate&&q.value.date===a.date,d=!1===n&&!0===p.showMonthLabel&&S.value.find(e=>e.month===a.month)?.day===a.day,l={outside:n,timestamp:a,miniMode:T.value,activeDate:r,hasMonth:d,droppable:g.value===a.date,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(a.weekday))},o=Object.assign({...X.value},t({scope:l})),u="function"===typeof p.dayClass?p.dayClass({scope:l}):{},i={key:a.date,ref:e=>{!0===E.value&&(v.value[a.date]=e)},tabindex:!0===E.value?0:-1,class:{"q-calendar-month__day":!0,...u,...Z(a,n,Array.from(p.selectedDates),p.selectedStartEndDates,p.hover),"q-active-date":!0===r,disabled:!0!==p.enableOutsideDays&&!0===n,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===E.value},style:o,onFocus:()=>{!0===E.value&&(f.value=a.date)},onKeydown:e=>{!0!==n&&!0!==a.disabled&&A(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==n&&!0!==a.disabled&&A(e,[13,32])&&(e.stopPropagation(),e.preventDefault(),void 0!==_.value.onClickDay)&&!0!==T.value&&c("click-day",{scope:l,e:e})},...C("-day",e=>{return{scope:l,event:e}})},s={onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"day",{scope:l})?g.value=a.date:g.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"day",{scope:l})?g.value=a.date:g.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"day",{scope:l})?g.value=a.date:g.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"day",{scope:l})?g.value=a.date:g.value="")}};return!0!==n&&Object.assign(i,s),!0!==p.noAria&&(i.ariaLabel=z.value(a,!1)),Ue.h("div",i,[De(a,n,d),Ue.h("div",{class:{"q-calendar-month__day--content":!0}},e?e({scope:l}):void 0),!0===E.value&&Je()])}function De(e,a,t){let n,r;const d=[qe(e,a)],l=(!0!==T.value&&!0===t&&u.width>340&&(r=Se(e,a)),!0!==T.value&&!0===p.showDayOfYearLabel&&void 0===r&&u.width>300&&(n=Fe(e,a)),"left"===p.dateAlign?(void 0!==n&&d.push(n),void 0!==r&&d.push(r)):"right"===p.dateAlign?(void 0!==n&&d.unshift(n),void 0!==r&&d.unshift(r)):(n=void 0,r=void 0),{class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+p.dateAlign]:void 0===n&&void 0===r,"q-calendar__justify":void 0!==n||void 0!==r}});return Ue.h("div",l,d)}function qe(t,a){if(!0!==a||!0!==p.noOutsideDays){const e=P.value(t,!1),n=y["head-day-label"],r=y["head-day-button"],d=p.selectedDates&&Array.from(p.selectedDates).length>0&&Array.from(p.selectedDates).includes(t.date),l=!0!==p.noActiveDate&&N(t),o={dayLabel:e,timestamp:t,outside:a,activeDate:l,selectedDate:d,miniMode:T.value,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(Number(t.weekday))},u={key:t.date,ref:e=>{!0===M.value&&(v.value[t.date]=e)},tabindex:!0===M.value?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===p.dateType,"q-calendar__button--rounded":"rounded"===p.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===M.value},disabled:!0===t.disabled||!0!==p.enableOutsideDays&&!0===a,onFocus:()=>{!0===M.value&&(f.value=t.date)},onKeydown:e=>{!0!==a&&!0!==t.disabled&&A(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0===M.value&&!0!==a&&!0!==t.disabled&&A(e,[13,32])&&(e.stopPropagation(),e.preventDefault(),h.value=t.date,void 0!==_.value.onClickDate)&&c("click-date",{scope:o,event:e})},...C("-date",(e,a)=>{return e.stopPropagation(),"click-date"!==a&&"contextmenu-date"!==a||(h.value=t.date),{scope:o,event:e}})};return!0!==p.noAria&&(u.ariaLabel=z.value(t,!1)),[r?r({scope:o}):fa(p,u,n?n({scope:o}):e),!0===M.value&&Je()].filter(e=>!1!==e)}}function Fe(e,a){if(!0!==a||!0!==p.noOutsideDays){const t=y["day-of-year"],n={timestamp:e};return Ue.h("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},t?t({scope:n}):e.doy)}}function Se(e,a){if(!0!==a||!0!==p.noOutsideDays){const t=y["month-label"],n=ae.value(e,p.shortMonthLabel||u.width<500),r={monthLabel:n,timestamp:e,miniMode:T.value},d={};return!0!==T.value&&void 0!==J.value&&(d.fontSize=J.value),Ue.h("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:d},[t?t({scope:r}):!0!==T.value?n:void 0])}}function Te(){const{start:e,end:a}=j.value,t=(l.value=e.date,o.value=a.date,u.width>0),n=Ue.withDirectives(Ue.h("div",{class:{"q-calendar-mini":!0===T.value,"q-calendar-month":!0},key:l.value},[!0===t&&!0!==p.noHeader&&ve(),!0===t&&ce()]),[[Ge,ue]]);if(!0!==p.animated)return n;{const r="q-calendar--"+("prev"===d.value?p.transitionPrev:p.transitionNext);return Ue.h(Ue.Transition,{name:r,appear:!0},()=>n)}}return Ue.watch([S],te,{deep:!0,immediate:!0}),Ue.watch(()=>p.modelValue,(e,a)=>{if(h.value!==e){if(!0===p.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));d.value=t>=n?"next":"prev"}h.value=e}f.value=e}),Ue.watch(h,(e,a)=>{if(h.value!==p.modelValue){if(!0===p.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));d.value=t>=n?"next":"prev"}c("update:model-value",e)}}),Ue.watch(f,e=>{e&&(a.value=ze(e),h.value!==e)&&(h.value=e)}),Ue.watch(a,()=>{v.value[f.value]?v.value[f.value].focus():ne()}),Ue.onBeforeUpdate(()=>{v.value={},i.value=[],s.value=[],Ue.nextTick(()=>{se()})}),Ue.onMounted(()=>{se()}),H({prev:oe,next:le,move:x,moveToToday:de,updateCurrent:w}),()=>Q()}}),ma=Ue.defineComponent({name:"QCalendarResource",props:{...e,...Te,...qe,...xe,...Ce,...n,...c},emits:["update:model-value","update:model-resources","resource-expanded",...Le,...Me,...s("-date"),...s("-interval"),...s("-head-day"),...s("-time"),...s("-head-resources"),...s("-resource")],setup(p,{slots:y,emit:v,expose:H}){const e=Ue.ref(null),O=Ue.ref(null),L=Ue.ref(null),a=Ue.ref(null),f=Ue.ref(p.modelValue||Ye()),t=Ue.ref(Pe(p.modelValue||Ye())),h=Ue.ref({}),m=Ue.ref({}),l=Ue.ref("next"),o=Ue.ref(p.modelValue||Ye()),u=Ue.ref("0000-00-00"),i=Ue.ref(0),r=Ue.ref(p.modelValue),s=Ue.reactive({width:0,height:0}),g=Ue.ref(""),_=Ue.ref(""),w=Ue.ref(""),V=Ue.ref(null),R=Ue.ref(null),n=(Ue.watch(()=>p.view,()=>{i.value=0}),Ue.computed(()=>{return"month"===p.view?"month-interval":p.view})),k=Ue.computed(()=>{return parseInt(String(p.cellWidth),10)}),d=Ue.getCurrentInstance();if(null===d)throw new Error("current instance is null");const b=ua(d).emitListeners,{times:c,setCurrent:B,updateCurrent:D}=ra(p),{parsedStart:q,parsedEnd:K,dayStyleDefault:F}=(D(),B(),ta(p,{startDate:o,endDate:u,times:c})),S=Ue.computed(()=>{return ze(p.modelValue,c.now)||q.value||c.today}),U=(t.value=S.value,f.value=S.value.date,da(p,{parsedView:n,times:c,parsedValue:S})).renderValues,{rootRef:P,__renderCalendar:Y}=aa(p,ge,{scrollArea:e,pane:O}),{days:T,intervals:x,intervalFormatter:z,styleDefault:Z,scrollToTimeX:X,timeDurationWidth:C,timeStartPosX:A,widthToMinutes:j}=na(p,{times:c,scrollArea:e,parsedStart:q,parsedEnd:K,maxDays:i,size:s,headerColumnRef:a}),W=oa(p,{parsedView:n,parsedValue:S,direction:l,maxDays:i,times:c,emittedValue:r,emit:v}).move,I=la(v,b).getDefaultMouseEventHandlers,Q=sa(v,{days:T,lastStart:V,lastEnd:R}).checkChange,$=ea().isKeyCode,G=ca(p,{rootRef:P,focusRef:f,focusValue:t,datesRef:h,parsedView:n,emittedValue:r,direction:l,times:c}).tryFocus,E=Ue.computed(()=>{const e=parseInt(String(p.resourceHeight),10);return 0===e?"auto":e}),M=Ue.computed(()=>{return parseInt(String(p.resourceMinHeight),10)}),N=Ue.computed(()=>{return parseInt(String(p.intervalHeaderHeight),10)});function J(){r.value=Ye()}function ee(e=1){W(e)}function ae(e=1){W(-e)}function te({width:e,height:a}){s.width=e,s.height=a}function ne(e){return e.date===r.value}function re(){const e={height:Qe(N.value)};return Ue.h("div",{ref:L,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":!0!==p.noSticky},style:e},[de(),le()])}function de(){const e=y["head-resources"],a=Qe(N.value),t={timestamps:x,date:p.modelValue,resources:p.modelResources};return Ue.h("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":!0!==p.noSticky},style:{height:a},...I("-head-resources",e=>{return{scope:t,event:e}})},[e&&e({scope:t})])}function le(){return Ue.h("div",{ref:a,class:{"q-calendar-resource__head--intervals":!0}},[x.value.map(e=>e.map((e,a)=>oe(e,a)))])}function oe(e,a){const t=y["interval-label"],n=!0!==p.noActiveDate&&ne(e),r=Qe(k.value),d=Qe(N.value),l=p.shortIntervalLabel,o=z.value(e,l),u={timestamp:e,index:a,label:o,droppable:g.value===o},i=p.intervalStyle||F,s={width:r,maxWidth:r,minWidth:r,height:d,...i({scope:u})},c="function"===typeof p.intervalClass?p.intervalClass({scope:u}):{},v=!0===p.focusable&&p.focusType.includes("interval");return Ue.h("div",{key:o,tabindex:!0===v?0:-1,class:{"q-calendar-resource__head--interval":!0,...c,"q-active-date":n,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===v},style:s,onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"interval",{scope:u})?g.value=o:g.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"interval",{scope:u})?g.value=o:g.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"interval",{scope:u})?g.value=o:g.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"interval",{scope:u})?g.value=o:g.value="")},onFocus:()=>{!0===v&&(f.value=o)},...I("-interval",e=>{return{scope:u,event:e}})},[t?t({scope:u}):o,Je()])}function ue(){return Ue.h("div",{class:"q-calendar-resource__body"},[ie()])}function ie(){return Ue.h("div",{ref:e,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[ce()])}function se(){return Ue.h("div",{},"No resources have been defined")}function ce(){return Ue.h("div",{class:"q-calendar-resource__day--container"},[re(),void 0===p.modelResources&&se(),void 0!==p.modelResources&&ve()])}function ve(){const e={class:"q-calendar-resource__resources--body"};return Ue.h("div",e,pe())}function pe(e=void 0,t=0,n=!0){return void 0===e&&(e=p.modelResources),e.map((e,a)=>{return ye(e,a,t,void 0!==e.children?e.expanded:n)}).filter(e=>!!e)}function ye(e,a,t=0,n=!0){const r={},d=(r.height="auto"===E.value?E.value:Qe(E.value),M.value>0&&(r.minHeight=Qe(M.value)),Ue.h("div",{key:e[p.resourceKey]+"-"+a,class:{"q-calendar-resource__resource--row":!0},style:r},[fe(e,a,t,n),he(e,a)]));return void 0!==e.children?[d,Ue.h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[pe(e.children,t+1,!1===n?n:e.expanded)])]:[d]}function fe(a,e,t=0,n=!0){const r=y["resource-label"],d={},l=(d.height=void 0!==a.height?Qe(parseInt(a.height,10)):E.value?Qe(E.value):"auto",M.value>0&&(d.minHeight=Qe(M.value)),p.resourceStyle||Z),o=a[p.resourceLabel],u=!0===p.focusable&&p.focusType.includes("resource")&&!0===n,i=a[p.resourceKey],s={resource:a,timestamps:x,resourceIndex:e,indentLevel:t,label:o,droppable:_.value===i},c="function"===typeof p.resourceClass?p.resourceClass({scope:s}):{};return Ue.h("div",{key:a[p.resourceKey]+"-"+e,ref:e=>{e instanceof HTMLElement&&(m.value[a[p.resourceKey]]=e)},tabindex:!0===u?0:-1,class:{"q-calendar-resource__resource":0===t,"q-calendar-resource__resource--section":0!==t,...c,"q-calendar__sticky":!0!==p.noSticky,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===u},style:{...d,...l({scope:s})},onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"resource",{scope:s})?_.value=i:_.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"resource",{scope:s})?_.value=i:_.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"resource",{scope:s})?_.value=i:_.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"resource",{scope:s})?_.value=i:_.value="")},onKeydown:e=>{$(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{$(e,[13,32])&&void 0!==b.value.onClickResource&&v("click-resource",{scope:s,event:e})},...I("-resource",e=>{return{scope:s,event:e}})},[[Ue.h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation(),a.expanded=!a.expanded,v("resource-expanded",{expanded:a.expanded,scope:s})}}),Ue.h("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*t+2+"px"}},[r?r({scope:s}):o]),Je()]])}function he(a,t){const e=y["resource-intervals"],n={resource:a,timestamps:x,resourceIndex:t,timeStartPosX:A,timeDurationWidth:C};return Ue.h("div",{class:"q-calendar-resource__resource--intervals"},[x.value.map(e=>e.map(e=>me(a,e,t))),e&&e({scope:n})])}function me(a,e,t){const n=y["resource-interval"],r=!0!==p.noActiveDate&&ne(e),d=a[p.resourceKey],l=e.time+"-"+d,o=!0===p.focusable&&p.focusType.includes("time"),u={activeDate:r,resource:a,timestamp:e,resourceIndex:t,droppable:w.value===l},i=p.intervalStyle||F,s=Qe(k.value),c={width:s,maxWidth:s,minWidth:s,...i({scope:u})};return c.height=void 0!==a.height?Qe(parseInt(a.height,10)):"auto"===E.value?E.value:Qe(E.value),M.value>0&&(c.minHeight=Qe(M.value)),Ue.h("div",{key:l,ref:e=>{e instanceof HTMLElement&&(h.value[a[p.resourceKey]]=e)},tabindex:!0===o?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":r,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===o},style:c,onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"time",{scope:u})?w.value=l:w.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"time",{scope:u})?w.value=l:w.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"time",{scope:u})?w.value=l:w.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"time",{scope:u})?w.value=l:w.value="")},onFocus:()=>{!0===o&&(f.value=l)},...I("-time",e=>{return{scope:u,event:e}})},[n&&n({scope:u}),Je()])}function ge(){const{start:e,end:a,maxDays:t}=U.value,n=(o.value===e.date&&u.value===a.date&&i.value===t||(o.value=e.date,u.value=a.date,i.value=t),s.width>0),r=Ue.withDirectives(Ue.h("div",{class:"q-calendar-resource",key:o.value},[!0===n&&ue()]),[[Ge,te]]);if(!0!==p.animated)return r;{const d="q-calendar--"+("prev"===l.value?p.transitionPrev:p.transitionNext);return Ue.h(Ue.Transition,{name:d,appear:!0},()=>r)}}return Ue.watch([T],Q,{deep:!0,immediate:!0}),Ue.watch(()=>p.modelValue,(e,a)=>{if(r.value!==e){if(!0===p.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));l.value=t>=n?"next":"prev"}r.value=e}f.value=e}),Ue.watch(r,(e,a)=>{if(r.value!==p.modelValue){if(!0===p.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));l.value=t>=n?"next":"prev"}v("update:model-value",e)}}),Ue.watch(f,e=>{e&&(t.value=ze(e))}),Ue.watch(t,()=>{h.value[f.value]?h.value[f.value].focus():G()}),Ue.onBeforeUpdate(()=>{h.value={},m.value={}}),Ue.onMounted(()=>{}),H({prev:ae,next:ee,move:W,moveToToday:J,updateCurrent:D,timeStartPosX:A,timeDurationWidth:C,widthToMinutes:j,scrollToTimeX:X}),()=>Y()}});const ga=He().renderButton;var _a=Ue.defineComponent({name:"QCalendarScheduler",directives:{ResizeObserver:Ge},props:{...e,...Fe,...xe,...Ce,...n,...Oe,...c},emits:["update:model-value","update:model-resources","resource-expanded",...Le,...Me,...s("-date"),...s("-day-resource"),...s("-head-resources"),...s("-head-day"),...s("-resource")],setup(h,{slots:m,emit:g,expose:H}){const e=Ue.ref(null),a=Ue.ref(null),O=Ue.ref(null),p=Ue.ref(h.modelValue||Ye()),t=Ue.ref(Pe(h.modelValue||Ye())),y=Ue.ref({}),L=Ue.ref({}),n=Ue.ref(),r=Ue.ref(),o=Ue.ref("next"),u=Ue.ref(h.modelValue||Ye()),i=Ue.ref("0000-00-00"),s=Ue.ref(0),_=Ue.ref(h.modelValue),c=Ue.reactive({width:0,height:0}),f=Ue.ref(""),w=Ue.ref(""),V=Ue.ref(null),R=Ue.ref(null),d=(Ue.watch(()=>h.view,()=>{s.value=0}),Ue.computed(()=>{return"month"===h.view?"month-interval":h.view})),B=Ue.getCurrentInstance();if(null===B)throw new Error("current instance is null");const k=ua(B).emitListeners,b=ia(h).isSticky,{times:l,setCurrent:K,updateCurrent:U}=ra(h),{parsedStart:P,parsedEnd:Y,dayFormatter:z,weekdayFormatter:Z,ariaDateFormatter:X,dayStyleDefault:j,getRelativeClasses:D}=(U(),K(),ta(h,{startDate:u,endDate:i,times:l})),q=Ue.computed(()=>{return ze(h.modelValue,l.now)||P.value||l.today}),Q=(t.value=q.value,p.value=q.value.date,da(h,{parsedView:d,parsedValue:q,times:l})).renderValues,{rootRef:v,scrollWidth:$,__renderCalendar:G}=aa(h,Ee,{scrollArea:e,pane:a}),{days:F,parsedCellWidth:S,styleDefault:J}=na(h,{times:l,scrollArea:e,parsedStart:P,parsedEnd:Y,maxDays:s,size:c,headerColumnRef:O}),T=oa(h,{parsedView:d,parsedValue:q,direction:o,maxDays:s,times:l,emittedValue:_,emit:g}).move,x=la(g,k).getDefaultMouseEventHandlers,ee=sa(g,{days:F,lastStart:V,lastEnd:R}).checkChange,C=ea().isKeyCode,ae=ca(h,{rootRef:v,focusRef:p,focusValue:t,datesRef:y,parsedView:d,emittedValue:_,direction:o,times:l}).tryFocus,A=Ue.computed(()=>{const e=parseInt(String(h.columnCount),10);return"day"===d.value&&e>1?e:"day"===d.value&&h.maxDays&&h.maxDays>1?h.maxDays:F.value.length}),te=Ue.computed(()=>{return v.value?parseInt(window.getComputedStyle(v.value).getPropertyValue("--calendar-resources-width"),10):0}),W=Ue.computed(()=>{const e=parseInt(String(h.resourceHeight),10);return 0===e?"auto":e}),ne=Ue.computed(()=>{return parseInt(String(h.resourceMinHeight),10)}),I=Ue.computed(()=>{if(v.value){const e=c.width||v.value.getBoundingClientRect().width;if(e&&te.value&&A.value)return(e-$.value-te.value)/A.value+"px"}return 100/A.value+"%"});function re(){_.value=Ye()}function de(e=1){T(e)}function le(e=1){T(-e)}function oe({width:e,height:a}){c.width=e,c.height=a}function E(e){return e.date===_.value}function ue(){return Ue.h("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":!0===b.value},style:{marginRight:$.value+"px"}},[ie(),se()])}function ie(){const e=m["head-resources"],a={days:F.value,timestamps:F.value,date:h.modelValue,resources:h.modelResources};return Ue.h("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":!0===b.value},...x("-head-resources",e=>{return{scope:a,event:e}})},[e&&e({scope:a})])}function se(){return Ue.h("div",{ref:O,class:{"q-calendar-scheduler__head--days__column":!0}},[ce(),ve()])}function ce(){return Ue.h("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...pe()])}function ve(){const e=m["head-days-events"];return Ue.nextTick(()=>{if(r.value&&0===parseInt(String(h.columnCount),10)&&window)try{const e=window.getComputedStyle(r.value);n.value&&n.value.parentElement&&(n.value.parentElement.style.height=e.height,n.value.style.height=e.height)}catch{}}),Ue.h("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[e&&Ue.h("div",{ref:n,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{timestamps:F.value,days:F.value,ref:r}})]),...ye()])}function pe(){const e=parseInt(String(h.columnCount),10),t=parseInt(String(h.columnIndexStart),10);return 1===F.value.length&&e>0?Array.apply(null,new Array(e)).map((e,a)=>a+t).map(e=>fe(F.value[0],e)):F.value.map(e=>fe(e,0))}function ye(){const e=parseInt(String(h.columnCount),10),t=parseInt(String(h.columnIndexStart),10);return 1===F.value.length&&e>0?Array.apply(null,new Array(e)).map((e,a)=>a+t).map(e=>me(F.value[0],e)):F.value.map(e=>me(e,0))}function fe(a,e){const t=m["head-day"],n=m["head-date"],r=!0!==h.noActiveDate&&E(a),d={timestamp:a,activeDate:r,droppable:f.value===a.date,disabled:!!h.disabledWeekdays&&h.disabledWeekdays.includes(Number(a.weekday)),columnIndex:e??0},l=!0===b.value?Qe(S.value):I.value,o=h.weekdayStyle||j,u={width:l,maxWidth:l,minWidth:l,...o({scope:d})},i=(!0===b.value&&(u.minWidth=l),"function"===typeof h.weekdayClass?h.weekdayClass({scope:d}):{}),s=!0===h.focusable&&h.focusType.includes("weekday"),c=a.date+(void 0!==e?"-"+e:""),v={key:c,ref:e=>{null!==e&&(y.value[c]=e)},tabindex:!0===s?0:-1,class:{"q-calendar-scheduler__head--day":!0,...i,...D(a),"q-active-date":r,"q-calendar__hoverable":!0===h.hoverable,"q-calendar__focusable":!0===s},style:u,onFocus:()=>{!0===s&&(p.value=c)},onKeydown:e=>{!0!==a.disabled&&C(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&C(e,[13,32])&&(_.value=a.date)},...x("-head-day",e=>{return{scope:d,event:e}}),onDragenter:e=>{void 0!==h.dragEnterFunc&&"function"===typeof h.dragEnterFunc&&(!0===h.dragEnterFunc(e,"head-day",{scope:d})?f.value=a.date:f.value="")},onDragover:e=>{void 0!==h.dragOverFunc&&"function"===typeof h.dragOverFunc&&(!0===h.dragOverFunc(e,"head-day",{scope:d})?f.value=a.date:f.value="")},onDragleave:e=>{void 0!==h.dragLeaveFunc&&"function"===typeof h.dragLeaveFunc&&(!0===h.dragLeaveFunc(e,"head-day",{scope:d})?f.value=a.date:f.value="")},onDrop:e=>{void 0!==h.dropFunc&&"function"===typeof h.dropFunc&&(!0===h.dropFunc(e,"head-day",{scope:d})?f.value=a.date:f.value="")}};return Ue.h("div",v,[void 0!==t&&t({scope:d}),void 0===t&&we(a,e),void 0===t&&he(a),void 0===t&&n&&n({scope:d}),void 0===t&&ke(a,e),Je()])}function he(e){return"stacked"===h.dateHeader?[!0!==h.noDefaultHeaderText?M(e):[],!0!==h.noDefaultHeaderBtn?N(e):[]].flat():"inline"===h.dateHeader?("left"===h.weekdayAlign&&"right"===h.dateAlign||"right"===h.weekdayAlign&&h.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==h.noDefaultHeaderText&&M(e),!0!==h.noDefaultHeaderBtn&&N(e)])):"inverted"===h.dateHeader?("left"===h.weekdayAlign&&"right"===h.dateAlign||"right"===h.weekdayAlign&&h.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==h.noDefaultHeaderBtn&&N(e),!0!==h.noDefaultHeaderText&&M(e)])):void 0}function me(e,a){const t=m["head-day-event"],n=!0!==h.noActiveDate&&E(e),r={timestamp:e,activeDate:n,droppable:f.value===e.date,disabled:!!h.disabledWeekdays&&h.disabledWeekdays.includes(Number(e.weekday)),columnIndex:a??0},d=!0===b.value?Qe(S.value):I.value,l={width:d,maxWidth:d,minWidth:d};return!0===b.value&&(l.minWidth=d),Ue.h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-scheduler__head--day__event":!0,...D(e),"q-active-date":n},style:l},[t&&t({scope:r})])}function M(e){const a=m["head-weekday-label"],t=!0===h.shortWeekdayLabel,n={timestamp:e,shortWeekdayLabel:t},r={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+h.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return Ue.h("div",r,a&&a({scope:n})||ge(e,t))}function ge(e,a){const t=Z.value(e,a||h.weekdayBreakpoints[0]>0&&S.value<=h.weekdayBreakpoints[0]);return Ue.h("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},h.weekdayBreakpoints[1]>0&&S.value<=h.weekdayBreakpoints[1]?$e(t,Number(h.minWeekdayLabel)):t)}function N(e){const a={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+h.dateAlign]:!0}};return Ue.h("div",a,_e(e))}function _e(t){const e=!0!==h.noActiveDate&&E(t),a=z.value(t,!1),n=m["head-day-label"],r=m["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e},l={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===h.dateType,"q-calendar__button--rounded":"rounded"===h.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&C(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&C(e,[13,32])&&(_.value=t.date,void 0!==k.value.onClickDate)&&g("click-date",{scope:d})},...x("-date",(e,a)=>{return"click-date"!==a&&"contextmenu-date"!==a||(_.value=t.date,"click-date"===a&&e.preventDefault()),{scope:d,event:e}})};return!0!==h.noAria&&(l.ariaLabel=X.value(t,!1)),r?Ue.h("div",[r({scope:d})]):ga(h,l,n?n({scope:d}):a)}function we(e,a){const t=m["column-header-before"];if(t){const n={timestamp:e,columnIndex:a};return Ue.h("div",{class:"q-calendar-scheduler__column-header--before"},[t({scope:n})])}}function ke(e,a){const t=m["column-header-after"];if(t){const n={timestamp:e,columnIndex:a};return Ue.h("div",{class:"q-calendar-scheduler__column-header--after"},[t({scope:n})])}}function be(){return Ue.h("div",{class:"q-calendar-scheduler__body"},[De()])}function De(){return!0===b.value?Ue.h("div",{ref:e,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[!0!==b.value&&Ce(),Fe()]):!0===h.noScroll?qe():Ue.h("div",{ref:e,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[qe()])}function qe(){return Ue.h("div",{ref:a,class:"q-calendar-scheduler__pane"},[Fe()])}function Fe(){return Ue.h("div",{class:"q-calendar-scheduler__day--container"},[!0===b.value&&!0!==h.noHeader&&ue(),Se()])}function Se(e=void 0,t=0,n=!0){return void 0===e&&(e=h.modelResources),e.map((e,a)=>{return Te(e,a,t,void 0!==e.children?e.expanded:n)}).flat()}function Te(e,a,t=0,n=!0){const r={},d=(r.height=void 0!==e.height?Qe(parseInt(e.height,10)):W.value?Qe(W.value):"auto",ne.value>0&&(r.minHeight=Qe(ne.value)),Ue.h("div",{key:e[h.resourceKey]+"-"+a,class:{"q-calendar-scheduler__resource--row":!0},style:r},[xe(e,a,t,n),Ce(e,a,t,n)]));return void 0!==e.children?[d,Ue.h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[Se(e.children,t+1,!1===n?n:e.expanded)])]:[d]}function xe(a,e,t=0,n=!0){const r=m["resource-label"],d=parseInt(String(h.resourceMinHeight),10),l={},o=(l.height=void 0!==a.height?Qe(parseInt(a.height,10)):W.value?Qe(W.value):"auto",d>0&&(l.minHeight=Qe(d)),h.resourceStyle||J),u=a[h.resourceLabel],i=!0===h.focusable&&h.focusType.includes("resource")&&!0===n,s=a[h.resourceKey],c={resource:a,timestamps:F.value,days:F.value,resourceIndex:e,indentLevel:t,label:u,droppable:w.value===s},v="function"===typeof h.resourceClass?h.resourceClass({scope:c}):{};return Ue.h("div",{key:a[h.resourceKey]+"-"+e,ref:e=>{null!==e&&(L.value[a[h.resourceKey]]=e)},tabindex:!0===i?0:-1,class:{"q-calendar-scheduler__resource":0===t,"q-calendar-scheduler__resource--section":0!==t,...v,"q-calendar__sticky":!0===b.value,"q-calendar__hoverable":!0===h.hoverable,"q-calendar__focusable":!0===i},style:{...l,...o({scope:c})},onDragenter:e=>{void 0!==h.dragEnterFunc&&"function"===typeof h.dragEnterFunc&&(!0===h.dragEnterFunc(e,"resource",{scope:c})?w.value=s:w.value="")},onDragover:e=>{void 0!==h.dragOverFunc&&"function"===typeof h.dragOverFunc&&(!0===h.dragOverFunc(e,"resource",{scope:c})?w.value=s:w.value="")},onDragleave:e=>{void 0!==h.dragLeaveFunc&&"function"===typeof h.dragLeaveFunc&&(!0===h.dragLeaveFunc(e,"resource",{scope:c})?w.value=s:w.value="")},onDrop:e=>{void 0!==h.dropFunc&&"function"===typeof h.dropFunc&&(!0===h.dropFunc(e,"resource",{scope:c})?w.value=s:w.value="")},onKeydown:e=>{C(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{C(e,[13,32])&&void 0!==k.value.onClickResource&&g("click-resource",{scope:c,event:e})},...x("-resource",e=>{return{scope:c,event:e}})},[[Ue.h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation(),a.expanded=!a.expanded,g("resource-expanded",{expanded:a.expanded,scope:c})}}),Ue.h("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*t+2+"px"}},[r?r({scope:c}):u]),Je()]])}function Ce(e,a,t=0,n=!0){const r=m["resource-days"],d=!0===b.value?Qe(S.value):I.value,l={resource:e,resourceIndex:a,indentLevel:t,expanded:n,cellWidth:d,timestamps:F.value,days:F.value},o={},u=(o.height=parseInt(String(h.resourceHeight),10)>0?Qe(parseInt(String(h.resourceHeight),10)):"auto",parseInt(String(h.resourceMinHeight),10)>0&&(o.minHeight=Qe(parseInt(String(h.resourceMinHeight),10))),{class:"q-calendar-scheduler__resource--days",style:o});return Ue.h("div",u,[...Ae(e,a,t,n),r&&r({scope:l})])}function Ae(a,t,n=0,r=!0){return 1===F.value.length&&parseInt(String(h.columnCount),10)>0?Array.apply(null,new Array(parseInt(String(h.columnCount),10))).map((e,a)=>a+parseInt(String(h.columnIndexStart),10)).map(e=>We(F.value[0],e,a,t,n,r)):F.value.map(e=>We(e,0,a,t,n,r))}function We(e,a,t,n,r=0,d=!0){const l=m.day,o=h.dayStyle||j,u=!0!==h.noActiveDate&&q.value.date===e.date,i=e.date+":"+t[h.resourceKey]+(void 0!==a?":"+a:""),s=w.value===i,c={timestamp:e,columnIndex:a,resource:t,resourceIndex:n,indentLevel:r,activeDate:u,droppable:s},v=!0===b.value?Qe(S.value):I.value,p={width:v,maxWidth:v,...o({scope:c})},y=(p.height=parseInt(String(h.resourceHeight),10)>0?Qe(parseInt(String(h.resourceHeight),10)):"auto",parseInt(String(h.resourceMinHeight),10)>0&&(p.minHeight=Qe(parseInt(String(h.resourceMinHeight),10))),"function"===typeof h.dayClass?h.dayClass({scope:c}):{}),f=!0===h.focusable&&h.focusType.includes("day")&&!0===d;return Ue.h("div",{key:e.date+(void 0!==a?":"+a:""),tabindex:!0===f?0:-1,class:{"q-calendar-scheduler__day":0===r,"q-calendar-scheduler__day--section":0!==r,...y,...D(e),"q-calendar__hoverable":!0===h.hoverable,"q-calendar__focusable":!0===f},style:p,onDragenter:e=>{void 0!==h.dragEnterFunc&&"function"===typeof h.dragEnterFunc&&(!0===h.dragEnterFunc(e,"day",{scope:c})?w.value=i:w.value="")},onDragover:e=>{void 0!==h.dragOverFunc&&"function"===typeof h.dragOverFunc&&(!0===h.dragOverFunc(e,"day",{scope:c})?w.value=i:w.value="")},onDragleave:e=>{void 0!==h.dragLeaveFunc&&"function"===typeof h.dragLeaveFunc&&(!0===h.dragLeaveFunc(e,"day",{scope:c})?w.value=i:w.value="")},onDrop:e=>{void 0!==h.dropFunc&&"function"===typeof h.dropFunc&&(!0===h.dropFunc(e,"day",{scope:c})?w.value=i:w.value="")},onKeydown:e=>{C(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{C(e,[13,32])&&(_.value=c.timestamp.date,void 0!==k.value.onClickResource)&&g("click-resource",{scope:c,event:e})},...x("-day-resource",e=>{return{scope:c,event:e}})},[l&&l({scope:c}),Je()])}function Ie(){return Ue.h("div",{},"No resources have been defined")}function Ee(){const{start:e,end:a,maxDays:t}=Q.value,n=(u.value===e.date&&i.value===a.date&&s.value===t||(u.value=e.date,i.value=a.date,s.value=t),c.width>0),r=h.modelResources&&h.modelResources.length>0,d=Ue.withDirectives(Ue.h("div",{key:u.value,class:"q-calendar-scheduler"},[!0===n&&!0===r&&!0!==b.value&&!0!==h.noHeader&&ue(),!0===n&&!0===r&&be(),!1===r&&Ie()]),[[Ge,oe]]);if(!0!==h.animated)return d;{const l="q-calendar--"+("prev"===o.value?h.transitionPrev:h.transitionNext);return Ue.h(Ue.Transition,{name:l,appear:!0},()=>d)}}return Ue.watch([F],ee,{deep:!0,immediate:!0}),Ue.watch(()=>h.modelValue,(e,a)=>{if(_.value!==h.modelValue){if(!0===h.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));o.value=t>=n?"next":"prev"}_.value=e}p.value=e}),Ue.watch(_,(e,a)=>{if(_.value!==h.modelValue){if(!0===h.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));o.value=t>=n?"next":"prev"}g("update:model-value",e)}}),Ue.watch(p,e=>{e&&(t.value=ze(e))}),Ue.watch(t,()=>{y.value[p.value]?y.value[p.value].focus():ae()}),Ue.watch(()=>h.maxDays,e=>{s.value=e}),Ue.onBeforeUpdate(()=>{y.value={},n.value=void 0,r.value=void 0,L.value={}}),Ue.onMounted(()=>{}),H({prev:le,next:de,move:T,moveToToday:re,updateCurrent:U}),()=>G()}});const wa={modelValue:{type:String,default:Ye(),validator:e=>""===e||x(e)},modelTasks:{type:Array,default:()=>[]},modelTitle:{type:Array,default:()=>[]},modelFooter:{type:Array,default:()=>[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:a},dayMinHeight:{type:[Number,String],default:40,validator:a},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},footerDayClass:{type:Function,default:null},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>a(e)&&e>0},taskWidth:{type:Number,default:200,validator:e=>a(e)&&e>0}};function ka(a,e,{times:t}){const n=Ue.computed(()=>{if(!a.modelValue)throw new Error("QCalendarTask: no modelValue provided");if("day"===a.view)return ze(a.modelValue);if("week"===a.view)return P(ze(a.modelValue),a.weekdays,t.today);if("month"===a.view)return q(ze(a.modelValue));throw new Error(`QCalendarTask: unknown 'view' type (${a.view})`)}),r=Ue.computed(()=>{if(!a.modelValue)throw new Error("QCalendarTask: no modelValue provided");if("day"===a.view){if(1===a.viewCount)return n.value;let e=Z(n.value);return e=Q(e,{day:a.viewCount-1}),e}if("week"===a.view){if(1===a.viewCount)return Y(ze(a.modelValue),a.weekdays,t.today);{let e=Z(n.value);return e=Q(e,{day:(a.viewCount-1)*l.DAYS_IN.WEEK}),Y(e,a.weekdays,t.today)}}if("month"!==a.view)throw new Error(`QCalendarTask: unknown 'view' type (${a.view})`);if(1===a.viewCount)return F(ze(a.modelValue));{let e=Z(n.value);return e=Q(e,{month:a.viewCount}),F(e)}}),d=Ue.computed(()=>{return X(n.value,r.value,t.today,a.weekdays,a.disabledBefore,a.disabledAfter,a.disabledWeekdays||[],a.disabledDays||[],Number.MAX_SAFE_INTEGER)});return{days:d,parsedStartDate:n,parsedEndDate:r}}const ba=He().renderButton;var Da=Ue.defineComponent({name:"QCalendarTask",directives:{ResizeObserver:Ge},props:{...n,...c,...Oe,...e,...wa},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...Le,...Me,...s("-date"),...s("-day"),...s("-head-day")],setup(c,{slots:v,emit:i,expose:H}){const e=Ue.ref(null),O=Ue.ref(null),d=Ue.ref("next"),l=Ue.ref(c.modelValue||Ye()),o=Ue.ref("0000-00-00"),a=Ue.ref(0),p=Ue.ref(c.modelValue),y=Ue.ref(c.modelValue||Ye()),t=Ue.ref(Pe(c.modelValue||Ye())),f=Ue.ref({}),u=Ue.reactive({width:0,height:0}),h=Ue.ref(""),m=Ue.ref(""),L=Ue.ref(null),V=Ue.ref(null),n=(Ue.watch(()=>c.view,()=>{a.value=0}),Ue.computed(()=>{return"month"===c.view?"month-interval":c.view})),r=Ue.getCurrentInstance();if(null===r)throw new Error("current instance is null");const s=ua(r).emitListeners,{times:g,setCurrent:R,updateCurrent:_}=ra(c),{parsedStart:B,dayFormatter:K,weekdayFormatter:U,ariaDateFormatter:P,dayStyleDefault:w,getRelativeClasses:k}=(_(),R(),ta(c,{startDate:l,endDate:o,times:g})),b=Ue.computed(()=>{return ze(c.modelValue,g.now)||B.value||g.today}),Y=(t.value=b.value,y.value=b.value.date,da(c,{parsedView:n,times:g,parsedValue:b})).renderValues,{rootRef:z,__renderCalendar:Z}=aa(c,Ae,{scrollArea:e,pane:O}),{days:D,parsedStartDate:q,parsedEndDate:F}=ka(c,i,{times:g}),S=oa(c,{parsedView:n,parsedValue:b,direction:d,maxDays:a,times:g,emittedValue:p,emit:i}).move,T=la(i,s).getDefaultMouseEventHandlers,X=sa(i,{days:D,lastStart:L,lastEnd:V}).checkChange,x=ea().isKeyCode,j=ca(c,{rootRef:z,focusRef:y,focusValue:t,datesRef:f,parsedView:n,emittedValue:p,direction:d,times:g}).tryFocus,C=Ue.ref(!0),A=Ue.computed(()=>{return void 0!==c.cellWidth?parseInt(String(c.cellWidth),10):150}),W=Ue.computed(()=>{return!0===c.focusable&&c.focusType.includes("day")}),Q=Ue.computed(()=>{return!0===c.focusable&&c.focusType.includes("date")&&!0!==W.value}),I=Ue.computed(()=>{return!0===c.focusable&&c.focusType.includes("weekday")}),$=Ue.computed(()=>{return parseInt(String(c.dayHeight),10)}),G=Ue.computed(()=>{return parseInt(String(c.dayMinHeight),10)});function J(){p.value=Ye()}function ee(e=1){S(e)}function ae(e=1){S(-e)}function te({width:e,height:a}){u.width=e,u.height=a}function E(e){return e.date===p.value}function ne(e,a,t){const n=v.day,r=c.dayStyle||w,d=!0!==c.noActiveDate&&b.value.date===e.date,l=a[c.taskKey],o={timestamp:e,task:a,taskIndex:t,activeDate:d,droppable:m.value===l},u=Qe(A.value),i={width:u,minWidth:u,maxWidth:u,...r({scope:o})},s="function"===typeof c.dayClass?c.dayClass({scope:o}):{};return Ue.h("div",{tabindex:!0===W.value?0:-1,class:{"q-calendar-task__task--day":!0,...s,...k(e),"q-active-date":!0===d,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===W.value},style:i,onFocus:()=>{W.value},...T("-day",e=>{return{scope:o,event:e}}),onDragenter:e=>{void 0!==c.dragEnterFunc&&"function"===typeof c.dragEnterFunc&&(!0===c.dragEnterFunc(e,"day",{scope:o})?m.value=l:m.value="")},onDragover:e=>{void 0!==c.dragOverFunc&&"function"===typeof c.dragOverFunc&&(!0===c.dragOverFunc(e,"day",{scope:o})?m.value=l:m.value="")},onDragleave:e=>{void 0!==c.dragLeaveFunc&&"function"===typeof c.dragLeaveFunc&&(!0===c.dragLeaveFunc(e,"day",{scope:o})?m.value=l:m.value="")},onDrop:e=>{void 0!==c.dropFunc&&"function"===typeof c.dropFunc&&(!0===c.dropFunc(e,"day",{scope:o})?m.value=l:m.value="")}},[n&&n({scope:o}),Je()])}function re(a,t){return D.value.map(e=>ne(e,a,t))}function de(e,a){const t=v.days,n={timestamps:D.value,days:D.value,task:e,taskIndex:a,cellWidth:A.value};return Ue.h("div",{class:"q-calendar-task__task--days-row"},[re(e,a),t&&t({scope:n})])}function le(a,e,t=0,n=!0){const r=0===t?v.task:v.subtask,d={start:q.value,end:F.value,task:a,taskIndex:e,expanded:n},l=Qe(c.taskWidth),o={width:l,minWidth:l,maxWidth:l},u=!0===c.focusable&&c.focusType.includes("task");return Ue.h("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":!0===C.value,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===u},style:o},[Ue.h("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*t+"px"}},[Ue.h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation(),a.expanded=!a.expanded,i("task-expanded",{expanded:a.expanded,scope:d})}})]),r&&r({scope:d}),Je()])}function oe(e,a,t=0,n=!0){const r=void 0!==e.height?Qe(parseInt(e.height,10)):$.value>0?Qe($.value):"auto",d=G.value>0?Qe(G.value):void 0,l={height:r},o=(void 0!==d&&(l.minHeight=d),Ue.h("div",{key:e[c.taskKey]+"-"+a,class:{"q-calendar-task__task":0===t,"q-calendar-task__task--section":0!==t},style:l},[le(e,a,t,n),de(e,a)]));return void 0!==e.children?[o,Ue.h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[ue(e.children,t+1,!1===n?n:e.expanded)])]:[o]}function ue(e=void 0,t=0,n=!0){return void 0===e&&(e=c.modelTasks),e.map((e,a)=>{return oe(e,a,t,void 0!==e.children?e.expanded:n)}).flat()}function ie(){return Ue.h("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":!0===C.value}},[ue()])}function se(e,a){const t=v["footer-task"],n={start:q.value,end:F.value,footer:e,index:a},r=Qe(c.taskWidth),d={width:r,minWidth:r,maxWidth:r};return Ue.h("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":!0===C.value},style:d},[t&&t({scope:n})])}function ce(e,a,t){const n=v["footer-day"],r={timestamp:e,footer:a,index:t},d=Qe(A.value),l={width:d,minWidth:d,maxWidth:d},o="function"===typeof c.footerDayClass?c.footerDayClass({scope:r}):{};return Ue.h("div",{class:{"q-calendar-task__footer--day":!0,...o,...k(e),"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===W.value},style:l},[n&&n({scope:r})])}function ve(a,t){return Ue.h("div",{class:"q-calendar-task__footer--day-wrapper"},[D.value.map(e=>ce(e,a,t))])}function pe(){const t=!0===c.focusable&&c.focusType.includes("task");return c.modelFooter.map((e,a)=>{return Ue.h("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===t}},{default:()=>[se(e,a),ve(e,a)]})})}function ye(){return Ue.h("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":!0===C.value}},pe())}function fe(){return Ue.h("div",{class:{"q-calendar-task__container":!0}},[!0!==c.noHeader&&Te(),ie(),ye()])}function he(){const e=v["head-tasks"],a={start:q.value,end:F.value},t=Qe(parseInt(String(c.taskWidth),10)),n={width:t,minWidth:t,maxWidth:t};return Ue.h("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":!0===C.value},style:n},[e&&e({scope:a})])}function me(e,a){const t=v["title-task"],n=Qe(parseInt(String(c.taskWidth),10)),r={width:n,minWidth:n,maxWidth:n},d={start:q.value,end:F.value,cellWidth:n,title:e,index:a};return Ue.h("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":!0===C.value},style:r},[t&&t({scope:d})])}function M(e){const a=v["head-weekday-label"],t=!0!==c.noActiveDate&&E(e),n={activeDate:t,timestamp:e,disabled:!!c.disabledWeekdays&&c.disabledWeekdays.includes(Number(e.weekday))},r={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+c.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return Ue.h("div",r,a&&a({scope:n})||ge(e,c.shortWeekdayLabel))}function ge(e,a){const t=U.value(e,a||c.weekdayBreakpoints[0]>0&&A.value<=c.weekdayBreakpoints[0]);return Ue.h("span",{class:"q-calendar__ellipsis"},c.weekdayBreakpoints[1]>0&&A.value<=c.weekdayBreakpoints[1]?$e(t,Number(c.minWeekdayLabel)):t)}function N(e){const a={class:{"q-calendar-task__head--date":!0,["q-calendar__"+c.dateAlign]:!0}};return Ue.h("div",a,_e(e))}function _e(t){const e=!0!==c.noActiveDate&&E(t),a=K.value(t,!1),n=v["head-day-label"],r=v["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e},l=t.date,o={key:l,tabindex:!0===Q.value?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===c.dateType,"q-calendar__button--rounded":"rounded"===c.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===Q.value},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&x(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&x(e,[13,32])&&(p.value=t.date,void 0!==s.value.onClickDate)&&i("click-date",{scope:d})},...T("-date",(e,a)=>{return"click-date"!==a&&"contextmenu-date"!==a||(p.value=t.date,"click-date"===a&&e.preventDefault()),{scope:d,event:e}})};return!0!==c.noAria&&(o.ariaLabel=P.value(t,!1)),r?r({scope:d}):ba(c,o,n?n({scope:d}):a)}function we(e){return"stacked"===c.dateHeader?[!0!==c.noDefaultHeaderText&&M(e),!0!==c.noDefaultHeaderBtn&&N(e)].filter(e=>!1!==e):"inline"===c.dateHeader?("left"===c.weekdayAlign&&"right"===c.dateAlign||"right"===c.weekdayAlign&&c.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==c.noDefaultHeaderText&&M(e),!0!==c.noDefaultHeaderBtn&&N(e)])):"inverted"===c.dateHeader?("left"===c.weekdayAlign&&"right"===c.dateAlign||"right"===c.weekdayAlign&&c.dateAlign,Ue.h("div",{class:"q-calendar__header--inline"},[!0!==c.noDefaultHeaderBtn&&N(e),!0!==c.noDefaultHeaderText&&M(e)])):void 0}function ke(e,a,t){const n=v["title-day"],r=Qe(A.value),d={width:r,minWidth:r,maxWidth:r},l={timestamp:e,title:a,index:t,cellWidth:A.value},o="function"===typeof c.dayClass?c.dayClass({scope:l}):{},u=!0===c.focusable&&c.focusType.includes("day");return Ue.h("div",{class:{"q-calendar-task__title--day":!0,...o,...k(e),"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===u},style:d},[n&&n({scope:l}),Je()])}function be(a){const e=v["head-day"],t=v["head-date"],n=!0!==c.noActiveDate&&E(a),r={timestamp:a,activeDate:n,droppable:h.value=a.date,disabled:!!c.disabledWeekdays&&c.disabledWeekdays.includes(Number(a.weekday))},d=c.weekdayStyle||w,l="function"===typeof c.weekdayClass?c.weekdayClass({scope:r}):{},o=Qe(A.value),u={width:o,minWidth:o,maxWidth:o,...d({scope:r})},i=a.date,s={key:i,ref:e=>{f.value[i]=e},tabindex:!0===I.value?0:-1,class:{"q-calendar-task__head--day":!0,...l,...k(a),"q-active-date":n,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===I.value},style:u,onFocus:()=>{!0===I.value&&(y.value=i)},onKeydown:e=>{!0!==a.disabled&&x(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&x(e,[13,32])&&(p.value=a.date)},...T("-head-day",e=>{return{scope:r,event:e}}),onDragenter:e=>{void 0!==c.dragEnterFunc&&"function"===typeof c.dragEnterFunc&&(!0===c.dragEnterFunc(e,"head-day",{scope:r})?h.value=a.date:h.value="")},onDragover:e=>{void 0!==c.dragOverFunc&&"function"===typeof c.dragOverFunc&&(!0===c.dragOverFunc(e,"head-day",{scope:r})?h.value=a.date:h.value="")},onDragleave:e=>{void 0!==c.dragLeaveFunc&&"function"===typeof c.dragLeaveFunc&&(!0===c.dragLeaveFunc(e,"head-day",{scope:r})?h.value=a.date:h.value="")},onDrop:e=>{void 0!==c.dropFunc&&"function"===typeof c.dropFunc&&(!0===c.dropFunc(e,"head-day",{scope:r})?h.value=a.date:h.value="")}};return Ue.h("div",s,[void 0!==e&&e({scope:r}),void 0===e&&we(a),void 0===e&&t&&t({scope:r}),Je()])}function De(){return D.value.map(e=>be(e))}function qe(a,t){return D.value.map(e=>ke(e,a,t))}function Fe(){return Ue.h("div",{class:{"q-calendar-task__head--days":!0}},[...De()])}function Se(e,a){return Ue.h("div",{class:{"q-calendar-task__title--days":!0}},[...qe(e,a)])}function Te(){return Ue.h("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":!0===C.value},style:{}},[Ue.h("div",{style:{position:"relative",display:"flex"}},[he(),Fe()]),c.modelTitle.map((e,a)=>Ue.h("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[me(e,a),Se(e,a)]))])}function xe(){return Ue.h("div",{class:"q-calendar-task__body"},[Ce()])}function Ce(){return Ue.h("div",{ref:e,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[fe()])}function Ae(){const{start:e,end:a}=Y.value,t=(l.value=e.date,o.value=a.date,u.width>0),n=Ue.withDirectives(Ue.h("div",{key:l.value,class:"q-calendar-task"},[!0===t&&xe()]),[[Ge,te]]);if(!0!==c.animated)return n;{const r="q-calendar--"+("prev"===d.value?c.transitionPrev:c.transitionNext);return Ue.h(Ue.Transition,{name:r,appear:!0},()=>n)}}return Ue.watch([D],X,{deep:!0,immediate:!0}),Ue.watch(()=>c.modelValue,(e,a)=>{if(p.value!==e){if(!0===c.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));d.value=t>=n?"next":"prev"}p.value=e}y.value=e}),Ue.watch(p,(e,a)=>{if(p.value!==c.modelValue){if(!0===c.animated){const t=Ze(Pe(e)),n=Ze(Pe(a));d.value=t>=n?"next":"prev"}i("update:model-value",e)}}),Ue.watch(y,e=>{e&&(t.value=ze(e))}),Ue.watch(t,()=>{f.value[y.value]?f.value[y.value].focus():j()}),Ue.onBeforeUpdate(()=>{f.value={}}),Ue.onMounted(()=>{}),H({prev:ae,next:ee,move:S,moveToToday:J,updateCurrent:_}),()=>Z()}}),qa=Ue.defineComponent({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...e,...pa,...n,...Oe,...c,...qe,...Fe,...Te,...Ce,...wa},setup(e,{attrs:a,slots:t,expose:n}){const r=Ue.ref(),d=Ue.computed(()=>{switch(e.mode){case"agenda":return Be;case"resource":return ma;case"scheduler":return _a;case"month":return ha;case"day":return Ke;case"task":return Da;default:return Ke}});function l(){r.value&&r.value.moveToToday()}function o(e=-1){r.value&&r.value.move(e)}function u(e=1){r.value&&r.value.next(e)}function i(e=1){r.value&&r.value.prev(e)}function s(){r.value&&r.value.updateCurrent()}function c(e,a=!0){if(r.value)return r.value.timeStartPos(e,a)}function v(e,a=!0){if(r.value)return r.value.timeStartPosX(e,a)}function p(e){if(r.value)return r.value.timeDurationWidth(e)}function y(e){if(r.value)return r.value.timeDurationHeight(e)}function f(e){if(r.value)return r.value.heightToMinutes(e)}function h(e){if(r.value)return r.value.widthToMinutes(e)}function m(e,a=0){r.value&&r.value.scrollToTime(e,a)}function g(e,a=0){r.value&&r.value.scrollToTimeX(e,a)}return n({prev:i,next:u,move:o,moveToToday:l,updateCurrent:s,timeStartPos:c,timeStartPosX:v,timeDurationWidth:p,timeDurationHeight:y,heightToMinutes:f,widthToMinutes:h,scrollToTime:m,scrollToTimeX:g}),()=>Ue.h(d.value,{ref:r,...e,...a},t)}});const Fa="4.1.2";he={version:Fa,QCalendar:qa,QCalendarAgenda:Be,QCalendarDay:Ke,QCalendarMonth:ha,QCalendarResource:ma,QCalendarScheduler:_a,QCalendarTask:Da,...he,...ge,install(e){e.component(String(qa.name),qa),e.component(String(Be.name),Be),e.component(String(Ke.name),Ke),e.component(String(ha.name),ha),e.component(String(ma.name),ma),e.component(String(_a.name),_a),e.component(String(Da.name),Da)}};return he});